import{s as au,o as vt,b as rr,e as D,j as er,d as N,f as X,q as Qr,i as P,v as C,k as z,l as M,B as uu,n as dr,t as Q,h as G,x as iu,A as su,m as kr,p as lt,M as Xr}from"../chunks/scheduler.C1FoT2GD.js";import{S as cu,i as ou,c as Pr,b as Wr,m as Mr,t as tr,a as nr,d as qr,g as De,e as Ne}from"../chunks/index.DFmxPlw4.js";import{e as Gr,u as vu,o as lu}from"../chunks/each.Bmx-BImQ.js";import{P as fu,L as pu,C as xn}from"../chunks/page.CWCv2ozC.js";import{p as _u}from"../chunks/stores.ZuLyBo9H.js";import{r as hu}from"../chunks/entry.CFb0IfzK.js";import{a as du,g as ft,a3 as pt,P as _t,c as yu}from"../chunks/kit.B5hTzwHX.js";import{P as mu}from"../chunks/player.rNBuc2kc.js";import{m as $u}from"../chunks/contest.BdJ2gSqk.js";import{z as gu}from"../chunks/bytes.BO06K83n.js";var or={},Hr={},q={};Object.defineProperty(q,"__esModule",{value:!0});q.z=q.tau=q.sigma=q.mu=q.epsilon=q.default=q.betaSq=q.beta=void 0;const Te=t=>(t==null?void 0:t.z)??3;q.z=Te;const Le=t=>(t==null?void 0:t.mu)??25;q.mu=Le;const wn=t=>(t==null?void 0:t.tau)??Le(t)/300;q.tau=wn;const On=t=>(t==null?void 0:t.sigma)??Le(t)/Te(t);q.sigma=On;const An=t=>(t==null?void 0:t.epsilon)??1e-4;q.epsilon=An;const Ce=t=>(t==null?void 0:t.beta)??On(t)/2;q.beta=Ce;const be=t=>Ce(t)**2;q.betaSq=be;var xu=t=>({EPSILON:An(t),TWOBETASQ:2*be(t),BETA:Ce(t),BETASQ:be(t),Z:Te(t),TAU:wn(t)});q.default=xu;Object.defineProperty(Hr,"__esModule",{value:!0});Hr.default=void 0;var ht=q;const wu=(t,r={})=>({mu:(t==null?void 0:t.mu)??(0,ht.mu)(r),sigma:(t==null?void 0:t.sigma)??(0,ht.sigma)({...r,mu:t==null?void 0:t.mu})});var Ou=wu;Hr.default=Ou;var Zr={},s={exports:{}},Au=function(){return!1},ku=Au,Su=function(){return!0},Pu=Su,Wu={"@@functional/placeholder":!0};function Mu(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}var Yr=Mu,qu=Yr;function Iu(t){return function r(e){return arguments.length===0||qu(e)?r:t.apply(this,arguments)}}var m=Iu,we=m,wr=Yr;function bu(t){return function r(e,n){switch(arguments.length){case 0:return r;case 1:return wr(e)?r:we(function(a){return t(e,a)});default:return wr(e)&&wr(n)?r:wr(e)?we(function(a){return t(a,n)}):wr(n)?we(function(a){return t(e,a)}):t(e,n)}}}var l=bu,Ru=l,Bu=Ru(function(r,e){return Number(r)+Number(e)}),re=Bu;function Eu(t,r){t=t||[],r=r||[];var e,n=t.length,a=r.length,u=[];for(e=0;e<n;)u[u.length]=t[e],e+=1;for(e=0;e<a;)u[u.length]=r[e],e+=1;return u}var J=Eu;function Du(t,r){switch(t){case 0:return function(){return r.apply(this,arguments)};case 1:return function(e){return r.apply(this,arguments)};case 2:return function(e,n){return r.apply(this,arguments)};case 3:return function(e,n,a){return r.apply(this,arguments)};case 4:return function(e,n,a,u){return r.apply(this,arguments)};case 5:return function(e,n,a,u,i){return r.apply(this,arguments)};case 6:return function(e,n,a,u,i,c){return r.apply(this,arguments)};case 7:return function(e,n,a,u,i,c,o){return r.apply(this,arguments)};case 8:return function(e,n,a,u,i,c,o,v){return r.apply(this,arguments)};case 9:return function(e,n,a,u,i,c,o,v,f){return r.apply(this,arguments)};case 10:return function(e,n,a,u,i,c,o,v,f,p){return r.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}var ar=Du,Nu=ar,dt=Yr;function kn(t,r,e){return function(){for(var n=[],a=0,u=t,i=0;i<r.length||a<arguments.length;){var c;i<r.length&&(!dt(r[i])||a>=arguments.length)?c=r[i]:(c=arguments[a],a+=1),n[i]=c,dt(c)||(u-=1),i+=1}return u<=0?e.apply(this,n):Nu(u,kn(t,n,e))}}var Ir=kn,Tu=ar,Lu=m,Cu=l,Fu=Ir,ju=Cu(function(r,e){return r===1?Lu(e):Tu(r,Fu(r,[],e))}),F=ju,Xu=J,zu=m,Uu=F,Vu=zu(function(r){return Uu(r.length,function(){var e=0,n=arguments[0],a=arguments[arguments.length-1],u=Array.prototype.slice.call(arguments,0);return u[0]=function(){var i=n.apply(this,Xu(arguments,[e,a]));return e+=1,i},r.apply(this,u)})}),Ku=Vu,Qu=J,Gu=m,Ju=F,Hu=Gu(function(r){return Ju(r.length,function(){var e=arguments[0],n=arguments[arguments.length-1],a=n.length-1,u=Array.prototype.slice.call(arguments,0);return u[0]=function(){var i=e.apply(this,Qu(arguments,[a,n]));return a-=1,i},r.apply(this,u)})}),Zu=Hu,zr=m,hr=l,j=Yr;function Yu(t){return function r(e,n,a){switch(arguments.length){case 0:return r;case 1:return j(e)?r:hr(function(u,i){return t(e,u,i)});case 2:return j(e)&&j(n)?r:j(e)?hr(function(u,i){return t(u,n,i)}):j(n)?hr(function(u,i){return t(e,u,i)}):zr(function(u){return t(e,n,u)});default:return j(e)&&j(n)&&j(a)?r:j(e)&&j(n)?hr(function(u,i){return t(u,i,a)}):j(e)&&j(a)?hr(function(u,i){return t(u,n,i)}):j(n)&&j(a)?hr(function(u,i){return t(e,u,i)}):j(e)?zr(function(u){return t(u,n,a)}):j(n)?zr(function(u){return t(e,u,a)}):j(a)?zr(function(u){return t(e,n,u)}):t(e,n,a)}}}var x=Yu,ri=J,ei=x,ti=ei(function(r,e,n){var a=n.length;if(r>=a||r<-a)return n;var u=(a+r)%a,i=ri(n);return i[u]=e(n[u]),i}),Sn=ti,U=Array.isArray||function(r){return r!=null&&r.length>=0&&Object.prototype.toString.call(r)==="[object Array]"};function ni(t){return t!=null&&typeof t["@@transducer/step"]=="function"}var Fe=ni,ai=U,ui=Fe;function ii(t,r,e){return function(){if(arguments.length===0)return e();var n=arguments[arguments.length-1];if(!ai(n)){for(var a=0;a<t.length;){if(typeof n[t[a]]=="function")return n[t[a]].apply(n,Array.prototype.slice.call(arguments,0,-1));a+=1}if(ui(n)){var u=r.apply(null,Array.prototype.slice.call(arguments,0,-1));return u(n)}}return e.apply(this,arguments)}}var R=ii;function si(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var ir=si,E={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},ci=ir,oi=E,vi=function(){function t(r,e){this.xf=e,this.f=r,this.all=!0}return t.prototype["@@transducer/init"]=oi.init,t.prototype["@@transducer/result"]=function(r){return this.all&&(r=this.xf["@@transducer/step"](r,!0)),this.xf["@@transducer/result"](r)},t.prototype["@@transducer/step"]=function(r,e){return this.f(e)||(this.all=!1,r=ci(this.xf["@@transducer/step"](r,!1))),r},t}();function li(t){return function(r){return new vi(t,r)}}var fi=li,pi=l,_i=R,hi=fi,di=pi(_i(["all"],hi,function(r,e){for(var n=0;n<e.length;){if(!r(e[n]))return!1;n+=1}return!0})),Pn=di;function yi(t){for(var r=[],e;!(e=t.next()).done;)r.push(e.value);return r}var mi=yi;function $i(t,r,e){for(var n=0,a=e.length;n<a;){if(t(r,e[n]))return!0;n+=1}return!1}var br=$i;function gi(t){var r=String(t).match(/^function (\w*)/);return r==null?"":r[1]}var xi=gi;function wi(t,r){return Object.prototype.hasOwnProperty.call(r,t)}var V=wi;function Oi(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}var Wn=typeof Object.is=="function"?Object.is:Oi,Ai=V,yt=Object.prototype.toString,ki=function(){return yt.call(arguments)==="[object Arguments]"?function(r){return yt.call(r)==="[object Arguments]"}:function(r){return Ai("callee",r)}}(),Mn=ki,mt=m,$t=V,Si=Mn,Pi=!{toString:null}.propertyIsEnumerable("toString"),gt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],xt=function(){return arguments.propertyIsEnumerable("length")}(),Wi=function(r,e){for(var n=0;n<r.length;){if(r[n]===e)return!0;n+=1}return!1},Mi=mt(typeof Object.keys=="function"&&!xt?function(r){return Object(r)!==r?[]:Object.keys(r)}:function(r){if(Object(r)!==r)return[];var e,n,a=[],u=xt&&Si(r);for(e in r)$t(e,r)&&(!u||e!=="length")&&(a[a.length]=e);if(Pi)for(n=gt.length-1;n>=0;)e=gt[n],$t(e,r)&&!Wi(a,e)&&(a[a.length]=e),n-=1;return a}),Z=Mi,qi=m,Ii=qi(function(r){return r===null?"Null":r===void 0?"Undefined":Object.prototype.toString.call(r).slice(8,-1)}),je=Ii,wt=mi,Ot=br,bi=xi,Ri=V,Oe=Wn,At=Z,kt=je;function St(t,r,e,n){var a=wt(t),u=wt(r);function i(c,o){return Xe(c,o,e.slice(),n.slice())}return!Ot(function(c,o){return!Ot(i,o,c)},u,a)}function Xe(t,r,e,n){if(Oe(t,r))return!0;var a=kt(t);if(a!==kt(r))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof r["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](r)&&typeof r["fantasy-land/equals"]=="function"&&r["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof r.equals=="function")return typeof t.equals=="function"&&t.equals(r)&&typeof r.equals=="function"&&r.equals(t);switch(a){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&bi(t.constructor)==="Promise")return t===r;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof r&&Oe(t.valueOf(),r.valueOf())))return!1;break;case"Date":if(!Oe(t.valueOf(),r.valueOf()))return!1;break;case"Error":return t.name===r.name&&t.message===r.message;case"RegExp":if(!(t.source===r.source&&t.global===r.global&&t.ignoreCase===r.ignoreCase&&t.multiline===r.multiline&&t.sticky===r.sticky&&t.unicode===r.unicode))return!1;break}for(var u=e.length-1;u>=0;){if(e[u]===t)return n[u]===r;u-=1}switch(a){case"Map":return t.size!==r.size?!1:St(t.entries(),r.entries(),e.concat([t]),n.concat([r]));case"Set":return t.size!==r.size?!1:St(t.values(),r.values(),e.concat([t]),n.concat([r]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var i=At(t);if(i.length!==At(r).length)return!1;var c=e.concat([t]),o=n.concat([r]);for(u=i.length-1;u>=0;){var v=i[u];if(!(Ri(v,r)&&Xe(r[v],t[v],c,o)))return!1;u-=1}return!0}var Bi=Xe,Ei=l,Di=Bi,Ni=Ei(function(r,e){return Di(r,e,[],[])}),H=Ni,Ti=H;function Li(t,r,e){var n,a;if(typeof t.indexOf=="function")switch(typeof r){case"number":if(r===0){for(n=1/r;e<t.length;){if(a=t[e],a===0&&1/a===n)return e;e+=1}return-1}else if(r!==r){for(;e<t.length;){if(a=t[e],typeof a=="number"&&a!==a)return e;e+=1}return-1}return t.indexOf(r,e);case"string":case"boolean":case"function":case"undefined":return t.indexOf(r,e);case"object":if(r===null)return t.indexOf(r,e)}for(;e<t.length;){if(Ti(t[e],r))return e;e+=1}return-1}var qn=Li,Ci=qn;function Fi(t,r){return Ci(r,t,0)>=0}var ze=Fi;function ji(t,r){for(var e=0,n=r.length,a=Array(n);e<n;)a[e]=t(r[e]),e+=1;return a}var Rr=ji;function Xi(t){var r=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+r.replace(/"/g,'\\"')+'"'}var zi=Xi,Or=function(r){return(r<10?"0":"")+r},Ui=typeof Date.prototype.toISOString=="function"?function(r){return r.toISOString()}:function(r){return r.getUTCFullYear()+"-"+Or(r.getUTCMonth()+1)+"-"+Or(r.getUTCDate())+"T"+Or(r.getUTCHours())+":"+Or(r.getUTCMinutes())+":"+Or(r.getUTCSeconds())+"."+(r.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},Vi=Ui;function Ki(t){return function(){return!t.apply(this,arguments)}}var In=Ki;function Qi(t,r,e){for(var n=0,a=e.length;n<a;)r=t(r,e[n]),n+=1;return r}var Br=Qi;function Gi(t,r){for(var e=0,n=r.length,a=[];e<n;)t(r[e])&&(a[a.length]=r[e]),e+=1;return a}var Ue=Gi;function Ji(t){return Object.prototype.toString.call(t)==="[object Object]"}var Er=Ji,Pt=E,Hi=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=Pt.init,t.prototype["@@transducer/result"]=Pt.result,t.prototype["@@transducer/step"]=function(r,e){return this.f(e)?this.xf["@@transducer/step"](r,e):r},t}();function Zi(t){return function(r){return new Hi(t,r)}}var Yi=Zi,rs=Br,es=l,ts=R,ns=Ue,as=Er,us=Yi,is=Z,ss=es(ts(["fantasy-land/filter","filter"],us,function(t,r){return as(r)?rs(function(e,n){return t(r[n])&&(e[n]=r[n]),e},{},is(r)):ns(t,r)})),Ve=ss,cs=In,os=l,vs=Ve,ls=os(function(r,e){return vs(cs(r),e)}),ee=ls,fs=ze,Ae=Rr,ke=zi,ps=Vi,Wt=Z,_s=ee;function bn(t,r){var e=function(i){var c=r.concat([t]);return fs(i,c)?"<Circular>":bn(i,c)},n=function(u,i){return Ae(function(c){return ke(c)+": "+e(u[c])},i.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+Ae(e,t).join(", ")+"))";case"[object Array]":return"["+Ae(e,t).concat(n(t,_s(function(u){return/^\d+$/.test(u)},Wt(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+e(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?e(NaN):ke(ps(t)))+")";case"[object Map]":return"new Map("+e(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+e(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+e(Array.from(t).sort())+")";case"[object String]":return typeof t=="object"?"new String("+e(t.valueOf())+")":ke(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var a=t.toString();if(a!=="[object Object]")return a}return"{"+n(t,Wt(t)).join(", ")+"}"}}var Rn=bn,hs=m,ds=Rn,ys=hs(function(r){return ds(r,[])}),mr=ys,ms=l,Mt=mr,$s=ms(function(r,e){if(r===e)return e;function n(o,v){if(o>v!=v>o)return v>o?v:o}var a=n(r,e);if(a!==void 0)return a;var u=n(typeof r,typeof e);if(u!==void 0)return u===typeof r?r:e;var i=Mt(r),c=n(i,Mt(e));return c!==void 0&&c===i?r:e}),lr=$s,qt=E,gs=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=qt.init,t.prototype["@@transducer/result"]=qt.result,t.prototype["@@transducer/step"]=function(r,e){return this.xf["@@transducer/step"](r,this.f(e))},t}(),xs=function(r){return function(e){return new gs(r,e)}},Bn=xs,ws=Br,Os=l,As=R,ks=Rr,Ss=Bn,Ps=F,Ws=Z,Ms=Os(As(["fantasy-land/map","map"],Ss,function(r,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return Ps(e.length,function(){return r.call(this,e.apply(this,arguments))});case"[object Object]":return ws(function(n,a){return n[a]=r(e[a]),n},{},Ws(e));default:return ks(r,e)}})),ur=Ms,cr=Number.isInteger||function(r){return r<<0===r};function qs(t){return Object.prototype.toString.call(t)==="[object String]"}var $r=qs,Is=l,bs=$r,Rs=Is(function(r,e){var n=r<0?e.length+r:r;return bs(e)?e.charAt(n):e[n]}),fr=Rs,Bs=l,Es=cr,Ds=fr,Ns=Bs(function(r,e){if(e!=null)return Es(r)?Ds(r,e):e[r]}),pr=Ns,Ts=l,Ls=ur,Cs=pr,Fs=Ts(function(r,e){return Ls(Cs(r),e)}),Dr=Fs,js=m,Xs=U,zs=$r,Us=js(function(r){return Xs(r)?!0:!r||typeof r!="object"||zs(r)?!1:r.length===0?!0:r.length>0?r.hasOwnProperty(0)&&r.hasOwnProperty(r.length-1):!1}),te=Us,Vs=te,It=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Ks(t,r,e){return function(a,u,i){if(Vs(i))return t(a,u,i);if(i==null)return u;if(typeof i["fantasy-land/reduce"]=="function")return r(a,u,i,"fantasy-land/reduce");if(i[It]!=null)return e(a,u,i[It]());if(typeof i.next=="function")return e(a,u,i);if(typeof i.reduce=="function")return r(a,u,i,"reduce");throw new TypeError("reduce: list must be array or iterable")}}var En=Ks;function Qs(t,r,e){for(var n=0,a=e.length;n<a;){if(r=t["@@transducer/step"](r,e[n]),r&&r["@@transducer/reduced"]){r=r["@@transducer/value"];break}n+=1}return t["@@transducer/result"](r)}var Dn=Qs,Gs=ar,Js=l,Hs=Js(function(r,e){return Gs(r.length,function(){return r.apply(e,arguments)})}),Nn=Hs,Zs=En,Ys=Dn,rc=Nn;function ec(t,r,e){for(var n=e.next();!n.done;){if(r=t["@@transducer/step"](r,n.value),r&&r["@@transducer/reduced"]){r=r["@@transducer/value"];break}n=e.next()}return t["@@transducer/result"](r)}function tc(t,r,e,n){return t["@@transducer/result"](e[n](rc(t["@@transducer/step"],t),r))}var nc=Zs(Ys,tc,ec),_r=nc,ac=function(){function t(r){this.f=r}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(r){return r},t.prototype["@@transducer/step"]=function(r,e){return this.f(r,e)},t}();function uc(t){return new ac(t)}var ne=uc,ic=x,sc=_r,cc=ne,oc=ic(function(t,r,e){return sc(typeof t=="function"?cc(t):t,r,e)}),sr=oc,vc=m,lc=F,fc=lr,pc=Dr,_c=sr,hc=vc(function(r){return lc(_c(fc,0,pc("length",r)),function(){for(var e=0,n=r.length;e<n;){if(!r[e].apply(this,arguments))return!1;e+=1}return!0})}),dc=hc,yc=m,mc=yc(function(r){return function(){return r}}),ae=mc,$c=l,gc=$c(function(r,e){return r&&e}),Tn=gc,xc=ir,wc=E,Oc=function(){function t(r,e){this.xf=e,this.f=r,this.any=!1}return t.prototype["@@transducer/init"]=wc.init,t.prototype["@@transducer/result"]=function(r){return this.any||(r=this.xf["@@transducer/step"](r,!1)),this.xf["@@transducer/result"](r)},t.prototype["@@transducer/step"]=function(r,e){return this.f(e)&&(this.any=!0,r=xc(this.xf["@@transducer/step"](r,!0))),r},t}();function Ac(t){return function(r){return new Oc(t,r)}}var kc=Ac,Sc=l,Pc=R,Wc=kc,Mc=Sc(Pc(["any"],Wc,function(r,e){for(var n=0;n<e.length;){if(r(e[n]))return!0;n+=1}return!1})),qc=Mc,Ic=m,bc=F,Rc=lr,Bc=Dr,Ec=sr,Dc=Ic(function(r){return bc(Ec(Rc,0,Bc("length",r)),function(){for(var e=0,n=r.length;e<n;){if(r[e].apply(this,arguments))return!0;e+=1}return!1})}),Nc=Dc,Tc=Br,Lc=En;function Cc(t,r,e){for(var n=e.next();!n.done;)r=t(r,n.value),n=e.next();return r}function Fc(t,r,e,n){return e[n](t,r)}var jc=Lc(Tc,Fc,Cc),ue=jc,Xc=J,zc=l,Uc=ue,Vc=ur,Kc=zc(function(r,e){return typeof e["fantasy-land/ap"]=="function"?e["fantasy-land/ap"](r):typeof r.ap=="function"?r.ap(e):typeof r=="function"?function(n){return r(n)(e(n))}:Uc(function(n,a){return Xc(n,Vc(a,e))},[],r)}),Ke=Kc;function Qc(t,r){for(var e=0,n=r.length-(t-1),a=new Array(n>=0?n:0);e<n;)a[e]=Array.prototype.slice.call(r,e,e+t),e+=1;return a}var Gc=Qc,Jc=J,Hc=E,Zc=function(){function t(r,e){this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(r)}return t.prototype["@@transducer/init"]=Hc.init,t.prototype["@@transducer/result"]=function(r){return this.acc=null,this.xf["@@transducer/result"](r)},t.prototype["@@transducer/step"]=function(r,e){return this.store(e),this.full?this.xf["@@transducer/step"](r,this.getCopy()):r},t.prototype.store=function(r){this.acc[this.pos]=r,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return Jc(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}();function Yc(t){return function(r){return new Zc(t,r)}}var ro=Yc,eo=Gc,to=l,no=R,ao=ro,uo=to(no([],ao,eo)),io=uo,so=J,co=l,oo=co(function(r,e){return so(e,[r])}),vo=oo,lo=l,fo=lo(function(r,e){return r.apply(this,e)}),Ln=fo,po=m,_o=Z,ho=po(function(r){for(var e=_o(r),n=e.length,a=[],u=0;u<n;)a[u]=r[e[u]],u+=1;return a}),Cn=ho,yo=m,mo=U,$o=Ln,go=F,xo=lr,wo=Dr,Oo=sr,Ao=Z,ko=Cn;function bt(t,r){return mo(r)?r.map(t):Ao(r).reduce(function(e,n){return e[n]=t(r[n]),e},{})}var So=yo(function t(r){return r=bt(function(e){return typeof e=="function"?e:t(e)},r),go(Oo(xo,0,wo("length",ko(r))),function(){var e=arguments;return bt(function(n){return $o(n,e)},r)})}),Po=So,Wo=l,Mo=Wo(function(r,e){return e(r)}),qo=Mo,Io=x,bo=Io(function(r,e,n){var a=r(e),u=r(n);return a<u?-1:a>u?1:0}),Ro=bo,Bo=U,Eo=cr;function Do(t,r,e){if(Eo(t)&&Bo(e)){var n=[].concat(e);return n[t]=r,n}var a={};for(var u in e)a[u]=e[u];return a[t]=r,a}var Qe=Do,No=m,To=No(function(r){return r==null}),Nr=To,Lo=x,Co=V,Fo=cr,jo=Qe,Xo=Nr,zo=Lo(function t(r,e,n){if(r.length===0)return e;var a=r[0];if(r.length>1){var u=!Xo(n)&&Co(a,n)&&typeof n[a]=="object"?n[a]:Fo(r[1])?[]:{};e=t(Array.prototype.slice.call(r,1),e,u)}return jo(a,e,n)}),Ge=zo,Uo=x,Vo=Ge,Ko=Uo(function(r,e,n){return Vo([r],e,n)}),Je=Ko,Qo=l,Go=Qo(function(r,e){switch(r){case 0:return function(){return e.call(this)};case 1:return function(n){return e.call(this,n)};case 2:return function(n,a){return e.call(this,n,a)};case 3:return function(n,a,u){return e.call(this,n,a,u)};case 4:return function(n,a,u,i){return e.call(this,n,a,u,i)};case 5:return function(n,a,u,i,c){return e.call(this,n,a,u,i,c)};case 6:return function(n,a,u,i,c,o){return e.call(this,n,a,u,i,c,o)};case 7:return function(n,a,u,i,c,o,v){return e.call(this,n,a,u,i,c,o,v)};case 8:return function(n,a,u,i,c,o,v,f){return e.call(this,n,a,u,i,c,o,v,f)};case 9:return function(n,a,u,i,c,o,v,f,p){return e.call(this,n,a,u,i,c,o,v,f,p)};case 10:return function(n,a,u,i,c,o,v,f,p,g){return e.call(this,n,a,u,i,c,o,v,f,p,g)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),ie=Go,Jo=m,Ho=ie,Zo=Jo(function(r){return Ho(2,r)}),Yo=Zo;function rv(t){var r=Object.prototype.toString.call(t);return r==="[object Function]"||r==="[object AsyncFunction]"||r==="[object GeneratorFunction]"||r==="[object AsyncGeneratorFunction]"}var Tr=rv,ev=l,tv=Br,nv=Ke,Rt=F,av=ur,uv=ev(function(r,e){var n=Rt(r,e);return Rt(r,function(){return tv(nv,av(n,arguments[0]),Array.prototype.slice.call(arguments,1))})}),Fn=uv,iv=m,sv=Fn,cv=iv(function(r){return sv(r.length,r)}),se=cv,ov=l,vv=Tr,lv=Tn,fv=se,pv=ov(function(r,e){return vv(r)?function(){return r.apply(this,arguments)&&e.apply(this,arguments)}:fv(lv)(r,e)}),_v=pv,hv=m,dv=hv(function(r){return r.apply(this,Array.prototype.slice.call(arguments,1))}),yv=dv,mv=te;function $v(t){return function r(e){for(var n,a,u,i=[],c=0,o=e.length;c<o;){if(mv(e[c]))for(n=t?r(e[c]):e[c],u=0,a=n.length;u<a;)i[i.length]=n[u],u+=1;else i[i.length]=e[c];c+=1}return i}}var jn=$v;function gv(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}var xv=gv,wv=xv,Ov=te,Av=Dn,kv=_r,Jr=E,Xn="@@transducer/init",Re="@@transducer/step",zn="@@transducer/result",Sv=function(){function t(r){this.xf=r}return t.prototype[Xn]=Jr.init,t.prototype[zn]=Jr.result,t.prototype[Re]=function(r,e){var n=this.xf[Re](r,e);return n["@@transducer/reduced"]?wv(n):n},t}(),Pv=function(){function t(r){this.xf=new Sv(r)}return t.prototype[Xn]=Jr.init,t.prototype[zn]=Jr.result,t.prototype[Re]=function(r,e){return Ov(e)?kv(this.xf,r,e):Av(this.xf,r,[e])},t}(),Wv=function(r){return new Pv(r)},Mv=Wv,qv=Mv,Iv=Bn;function bv(t){return function(r){return Iv(t)(qv(r))}}var Rv=bv,Bv=l,Ev=R,Dv=jn,Nv=Rv,Tv=ur,Lv=Bv(Ev(["fantasy-land/chain","chain"],Nv,function(r,e){return typeof e=="function"?function(n){return r(e(n))(n)}:Dv(!1)(Tv(r,e))})),Un=Lv,Cv=x,Fv=Cv(function(r,e,n){if(r>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<r?r:n>e?e:n}),jv=Fv;function Xv(t){return new RegExp(t.source,t.flags?t.flags:(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":"")+(t.dotAll?"s":""))}var Vn=Xv,zv=Vn,Uv=je;function Kn(t,r,e){if(e||(e=new Kv),Vv(t))return t;var n=function(u){var i=e.get(t);if(i)return i;e.set(t,u);for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(u[c]=r?Kn(t[c],!0,e):t[c]);return u};switch(Uv(t)){case"Object":return n(Object.create(Object.getPrototypeOf(t)));case"Array":return n([]);case"Date":return new Date(t.valueOf());case"RegExp":return zv(t);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return t.slice();default:return t}}var He=Kn;function Vv(t){var r=typeof t;return t==null||r!="object"&&r!="function"}var Kv=function(){function t(){this.map={},this.length=0}return t.prototype.set=function(r,e){const n=this.hash(r);let a=this.map[n];a||(this.map[n]=a=[]),a.push([r,e]),this.length+=1},t.prototype.hash=function(r){let e=[];for(var n in r)e.push(Object.prototype.toString.call(r[n]));return e.join()},t.prototype.get=function(r){if(this.length<=180){for(const a in this.map){const u=this.map[a];for(let i=0;i<u.length;i+=1){const c=u[i];if(c[0]===r)return c[1]}}return}const e=this.hash(r),n=this.map[e];if(n)for(let a=0;a<n.length;a+=1){const u=n[a];if(u[0]===r)return u[1]}},t}(),Qv=He,Gv=m,Jv=Gv(function(r){return r!=null&&typeof r.clone=="function"?r.clone():Qv(r,!0)}),Qn=Jv,Hv=l,Zv=ue,Yv=Hv(function(r,e){var n=Zv(function(i,c){var o=r(c);return i[o]===void 0&&(i[o]=[]),i[o].push(c),i},{},e),a=[];for(var u in n)a.push(n[u]);return a}),rl=Yv,el=m,tl=el(function(r){return function(e,n){return r(e,n)?-1:r(n,e)?1:0}}),nl=tl,al=m,ul=al(function(r){return!r}),Gn=ul,il=se,sl=Gn,cl=il(sl),ol=cl;function vl(t,r){return function(){return r.call(this,t.apply(this,arguments))}}var ll=vl,fl=U;function pl(t,r){return function(){var e=arguments.length;if(e===0)return r();var n=arguments[e-1];return fl(n)||typeof n[t]!="function"?r.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,e-1))}}var Lr=pl,_l=Lr,hl=x,dl=hl(_l("slice",function(r,e,n){return Array.prototype.slice.call(n,r,e)})),Y=dl,yl=Lr,ml=m,$l=Y,gl=ml(yl("tail",$l(1,1/0))),Ze=gl,xl=ar,wl=ll,Ol=sr,Al=Ze;function kl(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return xl(arguments[0].length,Ol(wl,arguments[0],Al(arguments)))}var Jn=kl,Sl=m,Pl=$r,Wl=Sl(function(r){return Pl(r)?r.split("").reverse().join(""):Array.prototype.slice.call(r,0).reverse()}),Ye=Wl,Ml=Jn,ql=Ye;function Il(){if(arguments.length===0)throw new Error("compose requires at least one argument");return Ml.apply(this,ql(arguments))}var Hn=Il,bl=fr,Rl=bl(0),Zn=Rl;function Bl(t){return t}var ce=Bl,El=m,Dl=ce,Nl=El(Dl),oe=Nl,Tl=ar,Ll=l,Cl=Zn,Fl=ue,jl=Ze,Xl=oe,zl=Ll(function(r,e){if(e.length<=0)return Xl;var n=Cl(e),a=jl(e);return Tl(n.length,function(){return Fl(function(u,i){return r.call(this,i,u)},n.apply(this,arguments),a)})}),Yn=zl,Ul=l,Vl=Yn,Kl=Ye,Ql=Ul(function(r,e){return Vl.apply(this,[r,Kl(e)])}),Gl=Ql,Jl=l,Bt=U,Et=Tr,Dt=$r,Se=mr,Hl=Jl(function(r,e){if(Bt(r)){if(Bt(e))return r.concat(e);throw new TypeError(Se(e)+" is not an array")}if(Dt(r)){if(Dt(e))return r+e;throw new TypeError(Se(e)+" is not a string")}if(r!=null&&Et(r["fantasy-land/concat"]))return r["fantasy-land/concat"](e);if(r!=null&&Et(r.concat))return r.concat(e);throw new TypeError(Se(r)+' does not have a method named "concat" or "fantasy-land/concat"')}),rt=Hl,Zl=ar,Yl=m,rf=ur,ef=lr,tf=sr,nf=Yl(function(r){var e=tf(ef,0,rf(function(n){return n[0].length},r));return Zl(e,function(){for(var n=0;n<r.length;){if(r[n][0].apply(this,arguments))return r[n][1].apply(this,arguments);n+=1}})}),af=nf,uf=m,sf=F,cf=uf(function(r){return sf(r.length,r)}),et=cf,of=l,vf=et,lf=ie,ff=of(function(r,e){if(r>10)throw new Error("Constructor with greater than ten arguments");return r===0?function(){return new e}:vf(lf(r,function(n,a,u,i,c,o,v,f,p,g){switch(r){case 1:return new e(n);case 2:return new e(n,a);case 3:return new e(n,a,u);case 4:return new e(n,a,u,i);case 5:return new e(n,a,u,i,c);case 6:return new e(n,a,u,i,c,o);case 7:return new e(n,a,u,i,c,o,v);case 8:return new e(n,a,u,i,c,o,v,f);case 9:return new e(n,a,u,i,c,o,v,f,p);case 10:return new e(n,a,u,i,c,o,v,f,p,g)}}))}),ra=ff,pf=m,_f=ra,hf=pf(function(r){return _f(r.length,r)}),df=hf,yf=l,mf=Rr,$f=F,gf=lr,xf=Dr,wf=sr,Of=yf(function(r,e){return $f(wf(gf,0,xf("length",e)),function(){var n=arguments,a=this;return r.apply(a,mf(function(u){return u.apply(a,n)},e))})}),ea=Of,Af=ue,kf=et,Sf=kf(function(t,r){return Af(function(e,n){return t(n)?e+1:e},0,r)}),Pf=Sf,Wf=He,Mf=V,qf=E,If=function(){function t(r,e,n,a){this.valueFn=r,this.valueAcc=e,this.keyFn=n,this.xf=a,this.inputs={}}return t.prototype["@@transducer/init"]=qf.init,t.prototype["@@transducer/result"]=function(r){var e;for(e in this.inputs)if(Mf(e,this.inputs)&&(r=this.xf["@@transducer/step"](r,this.inputs[e]),r["@@transducer/reduced"])){r=r["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](r)},t.prototype["@@transducer/step"]=function(r,e){var n=this.keyFn(e);return this.inputs[n]=this.inputs[n]||[n,Wf(this.valueAcc,!1)],this.inputs[n][1]=this.valueFn(this.inputs[n][1],e),r},t}();function bf(t,r,e){return function(n){return new If(t,r,e,n)}}var Rf=bf,Bf=He,Ef=Ir,Df=R,Nf=V,Tf=ir,Lf=_r,Cf=Rf,Ff=ne,jf=Ef(4,[],Df([],Cf,function(r,e,n,a){var u=Ff(function(i,c){var o=n(c),v=r(Nf(o,i)?i[o]:Bf(e,!1),c);return v&&v["@@transducer/reduced"]?Tf(i):(i[o]=v,i)});return Lf(u,{},a)})),ve=jf,Xf=ve,zf=Xf(function(t,r){return t+1},0),Uf=zf,Vf=re,Kf=Vf(-1),Qf=Kf,Gf=l,Jf=Gf(function(r,e){return e==null||e!==e?r:e}),tt=Jf,Hf=x,Zf=Hf(function(r,e,n){var a=r(e),u=r(n);return a>u?-1:a<u?1:0}),Yf=Zf,Nt=ze,rp=function(){function t(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return t.prototype.add=function(r){return!Tt(r,!0,this)},t.prototype.has=function(r){return Tt(r,!1,this)},t}();function Tt(t,r,e){var n=typeof t,a,u;switch(n){case"string":case"number":return t===0&&1/t===-1/0?e._items["-0"]?!0:(r&&(e._items["-0"]=!0),!1):e._nativeSet!==null?r?(a=e._nativeSet.size,e._nativeSet.add(t),u=e._nativeSet.size,u===a):e._nativeSet.has(t):n in e._items?t in e._items[n]?!0:(r&&(e._items[n][t]=!0),!1):(r&&(e._items[n]={},e._items[n][t]=!0),!1);case"boolean":if(n in e._items){var i=t?1:0;return e._items[n][i]?!0:(r&&(e._items[n][i]=!0),!1)}else return r&&(e._items[n]=t?[!1,!0]:[!0,!1]),!1;case"function":return e._nativeSet!==null?r?(a=e._nativeSet.size,e._nativeSet.add(t),u=e._nativeSet.size,u===a):e._nativeSet.has(t):n in e._items?Nt(t,e._items[n])?!0:(r&&e._items[n].push(t),!1):(r&&(e._items[n]=[t]),!1);case"undefined":return e._items[n]?!0:(r&&(e._items[n]=!0),!1);case"object":if(t===null)return e._items.null?!0:(r&&(e._items.null=!0),!1);default:return n=Object.prototype.toString.call(t),n in e._items?Nt(t,e._items[n])?!0:(r&&e._items[n].push(t),!1):(r&&(e._items[n]=[t]),!1)}}var Cr=rp,ep=l,tp=Cr,np=ep(function(r,e){for(var n=[],a=0,u=r.length,i=e.length,c=new tp,o=0;o<i;o+=1)c.add(e[o]);for(;a<u;)c.add(r[a])&&(n[n.length]=r[a]),a+=1;return n}),ta=np,Lt=br,ap=x,up=ap(function(r,e,n){for(var a=[],u=0,i=e.length;u<i;)!Lt(r,e[u],n)&&!Lt(r,e[u],a)&&a.push(e[u]),u+=1;return a}),na=up,ip=x,sp=ip(function(r,e,n){var a=Array.prototype.slice.call(n,0);return a.splice(r,e),a}),aa=sp,cp=cr,op=U,vp=aa;function lp(t,r){if(r==null)return r;if(cp(t)&&op(r))return vp(t,1,r);var e={};for(var n in r)e[n]=r[n];return delete e[t],e}var fp=lp,pp=l,_p=fp,hp=cr,dp=U,yp=Je;function mp(t,r){if(hp(t)&&dp(r))return[].concat(r);var e={};for(var n in r)e[n]=r[n];return e}var $p=pp(function t(r,e){if(e==null)return e;switch(r.length){case 0:return e;case 1:return _p(r[0],e);default:var n=r[0],a=Array.prototype.slice.call(r,1);return e[n]==null?mp(n,e):yp(n,t(a,e[n]),e)}}),ua=$p,gp=l,xp=ua,wp=gp(function(r,e){return xp([r],e)}),Op=wp,Ap=l,kp=Ap(function(r,e){return r/e}),Sp=kp,Ct=E,Pp=function(){function t(r,e){this.xf=e,this.n=r}return t.prototype["@@transducer/init"]=Ct.init,t.prototype["@@transducer/result"]=Ct.result,t.prototype["@@transducer/step"]=function(r,e){return this.n>0?(this.n-=1,r):this.xf["@@transducer/step"](r,e)},t}();function Wp(t){return function(r){return new Pp(t,r)}}var Mp=Wp,qp=l,Ip=R,bp=Mp,Rp=Y,Bp=qp(Ip(["drop"],bp,function(r,e){return Rp(Math.max(0,r),1/0,e)})),ia=Bp,Ep=ir,Ft=E,Dp=function(){function t(r,e){this.xf=e,this.n=r,this.i=0}return t.prototype["@@transducer/init"]=Ft.init,t.prototype["@@transducer/result"]=Ft.result,t.prototype["@@transducer/step"]=function(r,e){this.i+=1;var n=this.n===0?r:this.xf["@@transducer/step"](r,e);return this.n>=0&&this.i>=this.n?Ep(n):n},t}();function Np(t){return function(r){return new Dp(t,r)}}var Tp=Np,Lp=l,Cp=R,Fp=Tp,jp=Y,Xp=Lp(Cp(["take"],Fp,function(r,e){return jp(0,r<0?1/0:r,e)})),nt=Xp,zp=nt;function Up(t,r){return zp(t<r.length?r.length-t:0,r)}var Vp=Up,Kp=E,Qp=function(){function t(r,e){if(r<=0)return e;this.xf=e,this.pos=0,this.full=!1,this.acc=new Array(r)}return t.prototype["@@transducer/init"]=Kp.init,t.prototype["@@transducer/result"]=function(r){return this.acc=null,this.xf["@@transducer/result"](r)},t.prototype["@@transducer/step"]=function(r,e){return this.full&&(r=this.xf["@@transducer/step"](r,this.acc[this.pos])),this.store(e),r},t.prototype.store=function(r){this.acc[this.pos]=r,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}();function Gp(t){return function(r){return new Qp(t,r)}}var Jp=Gp,Hp=l,Zp=R,Yp=Vp,r_=Jp,e_=Hp(Zp([],r_,Yp)),t_=e_,n_=Y;function a_(t,r){for(var e=r.length-1;e>=0&&t(r[e]);)e-=1;return n_(0,e+1,r)}var u_=a_,i_=E,s_=_r,c_=function(){function t(r,e){this.f=r,this.retained=[],this.xf=e}return t.prototype["@@transducer/init"]=i_.init,t.prototype["@@transducer/result"]=function(r){return this.retained=null,this.xf["@@transducer/result"](r)},t.prototype["@@transducer/step"]=function(r,e){return this.f(e)?this.retain(r,e):this.flush(r,e)},t.prototype.flush=function(r,e){return r=s_(this.xf,r,this.retained),this.retained=[],this.xf["@@transducer/step"](r,e)},t.prototype.retain=function(r,e){return this.retained.push(e),r},t}();function o_(t){return function(r){return new c_(t,r)}}var v_=o_,l_=l,f_=R,p_=u_,__=v_,h_=l_(f_([],__,p_)),d_=h_,jt=E,y_=function(){function t(r,e){this.xf=e,this.pred=r,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=jt.init,t.prototype["@@transducer/result"]=jt.result,t.prototype["@@transducer/step"]=function(r,e){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,e)&&(n=!0):this.seenFirstValue=!0,this.lastValue=e,n?r:this.xf["@@transducer/step"](r,e)},t}();function m_(t){return function(r){return new y_(t,r)}}var at=m_,$_=fr,g_=$_(-1),sa=g_,x_=l,w_=R,O_=at,A_=sa,k_=x_(w_([],O_,function(r,e){var n=[],a=1,u=e.length;if(u!==0)for(n[0]=e[0];a<u;)r(A_(n),e[a])||(n[n.length]=e[a]),a+=1;return n})),ut=k_,S_=m,P_=R,W_=at,M_=ut,Xt=H,q_=S_(P_([],function(){return W_(Xt)},M_(Xt))),I_=q_,b_=x,R_=H,B_=b_(function(r,e,n){return R_(r(e),r(n))}),ca=B_,E_=l,D_=R,N_=at,T_=ut,zt=ca,L_=E_(function(t,r){return D_([],function(){return N_(zt(t))},T_(zt(t)))(r)}),C_=L_,Ut=E,F_=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=Ut.init,t.prototype["@@transducer/result"]=Ut.result,t.prototype["@@transducer/step"]=function(r,e){if(this.f){if(this.f(e))return r;this.f=null}return this.xf["@@transducer/step"](r,e)},t}();function j_(t){return function(r){return new F_(t,r)}}var X_=j_,z_=l,U_=R,V_=X_,K_=Y,Q_=z_(U_(["dropWhile"],V_,function(r,e){for(var n=0,a=e.length;n<a&&r(e[n]);)n+=1;return K_(n,1/0,e)})),G_=Q_,J_=l,H_=J_(function(r,e){return r||e}),oa=H_,Z_=l,Y_=Tr,rh=se,eh=oa,th=Z_(function(r,e){return Y_(r)?function(){return r.apply(this,arguments)||e.apply(this,arguments)}:rh(eh)(r,e)}),nh=th;function ah(t){var r=Object.prototype.toString.call(t);return r==="[object Uint8ClampedArray]"||r==="[object Int8Array]"||r==="[object Uint8Array]"||r==="[object Int16Array]"||r==="[object Uint16Array]"||r==="[object Int32Array]"||r==="[object Uint32Array]"||r==="[object Float32Array]"||r==="[object Float64Array]"||r==="[object BigInt64Array]"||r==="[object BigUint64Array]"}var uh=ah,ih=m,sh=Mn,ch=U,oh=Er,vh=$r,lh=uh,fh=ih(function(r){return r!=null&&typeof r["fantasy-land/empty"]=="function"?r["fantasy-land/empty"]():r!=null&&r.constructor!=null&&typeof r.constructor["fantasy-land/empty"]=="function"?r.constructor["fantasy-land/empty"]():r!=null&&typeof r.empty=="function"?r.empty():r!=null&&r.constructor!=null&&typeof r.constructor.empty=="function"?r.constructor.empty():ch(r)?[]:vh(r)?"":oh(r)?{}:sh(r)?function(){return arguments}():lh(r)?r.constructor.from(""):void 0}),va=fh,ph=l,_h=ia,hh=ph(function(r,e){return _h(r>=0?e.length-r:0,e)}),la=hh,dh=l,yh=H,mh=la,$h=dh(function(t,r){return yh(mh(t.length,r),t)}),gh=$h,xh=x,wh=H,Oh=xh(function(r,e,n){return wh(e[r],n[r])}),Ah=Oh,kh=l,Sh=U,Ph=Er,Wh=kh(function t(r,e){if(!Ph(e)&&!Sh(e))return e;var n=e instanceof Array?[]:{},a,u,i;for(u in e)a=r[u],i=typeof a,n[u]=i==="function"?a(e[u]):a&&i==="object"?t(a,e[u]):e[u];return n}),Mh=Wh,qh=ir,Ih=E,bh=function(){function t(r,e){this.xf=e,this.f=r,this.found=!1}return t.prototype["@@transducer/init"]=Ih.init,t.prototype["@@transducer/result"]=function(r){return this.found||(r=this.xf["@@transducer/step"](r,void 0)),this.xf["@@transducer/result"](r)},t.prototype["@@transducer/step"]=function(r,e){return this.f(e)&&(this.found=!0,r=qh(this.xf["@@transducer/step"](r,e))),r},t}();function Rh(t){return function(r){return new bh(t,r)}}var Bh=Rh,Eh=l,Dh=R,Nh=Bh,Th=Eh(Dh(["find"],Nh,function(r,e){for(var n=0,a=e.length;n<a;){if(r(e[n]))return e[n];n+=1}})),Lh=Th,Ch=ir,Fh=E,jh=function(){function t(r,e){this.xf=e,this.f=r,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=Fh.init,t.prototype["@@transducer/result"]=function(r){return this.found||(r=this.xf["@@transducer/step"](r,-1)),this.xf["@@transducer/result"](r)},t.prototype["@@transducer/step"]=function(r,e){return this.idx+=1,this.f(e)&&(this.found=!0,r=Ch(this.xf["@@transducer/step"](r,this.idx))),r},t}();function Xh(t){return function(r){return new jh(t,r)}}var zh=Xh,Uh=l,Vh=R,Kh=zh,Qh=Uh(Vh([],Kh,function(r,e){for(var n=0,a=e.length;n<a;){if(r(e[n]))return n;n+=1}return-1})),Gh=Qh,Jh=E,Hh=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=Jh.init,t.prototype["@@transducer/result"]=function(r){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](r,this.last))},t.prototype["@@transducer/step"]=function(r,e){return this.f(e)&&(this.last=e),r},t}();function Zh(t){return function(r){return new Hh(t,r)}}var Yh=Zh,rd=l,ed=R,td=Yh,nd=rd(ed([],td,function(r,e){for(var n=e.length-1;n>=0;){if(r(e[n]))return e[n];n-=1}})),ad=nd,ud=E,id=function(){function t(r,e){this.xf=e,this.f=r,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=ud.init,t.prototype["@@transducer/result"]=function(r){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](r,this.lastIdx))},t.prototype["@@transducer/step"]=function(r,e){return this.idx+=1,this.f(e)&&(this.lastIdx=this.idx),r},t}();function sd(t){return function(r){return new id(t,r)}}var cd=sd,od=l,vd=R,ld=cd,fd=od(vd([],ld,function(r,e){for(var n=e.length-1;n>=0;){if(r(e[n]))return n;n-=1}return-1})),pd=fd,_d=m,hd=jn,dd=_d(hd(!0)),yd=dd,md=m,$d=F,gd=md(function(r){return $d(r.length,function(e,n){var a=Array.prototype.slice.call(arguments,0);return a[0]=n,a[1]=e,r.apply(this,a)})}),fa=gd,xd=Lr,wd=l,Od=wd(xd("forEach",function(r,e){for(var n=e.length,a=0;a<n;)r(e[a]),a+=1;return e})),Ad=Od,kd=l,Sd=Z,Pd=kd(function(r,e){for(var n=Sd(e),a=0;a<n.length;){var u=n[a];r(e[u],u,e),a+=1}return e}),Wd=Pd,Md=m,qd=Md(function(r){for(var e={},n=0;n<r.length;)e[r[n][0]]=r[n][1],n+=1;return e}),Id=qd,bd=Lr,Rd=l,Bd=ve,Ed=Rd(bd("groupBy",Bd(function(t,r){return t.push(r),t},[]))),Dd=Ed,Nd=l,Td=Nd(function(t,r){for(var e=[],n=0,a=r.length;n<a;){for(var u=n+1;u<a&&t(r[u-1],r[u]);)u+=1;e.push(r.slice(n,u)),n=u}return e}),Ld=Td,Cd=l,Fd=Cd(function(r,e){return r>e}),jd=Fd,Xd=l,zd=Xd(function(r,e){return r>=e}),Ud=zd,Vd=l,Kd=V,Vt=Nr,Qd=Vd(function(r,e){if(r.length===0||Vt(e))return!1;for(var n=e,a=0;a<r.length;)if(!Vt(n)&&Kd(r[a],n))n=n[r[a]],a+=1;else return!1;return!0}),pa=Qd,Gd=l,Jd=pa,Hd=Gd(function(r,e){return Jd([r],e)}),Zd=Hd,Yd=l,ry=Nr,ey=Yd(function(r,e){return ry(e)?!1:r in e}),ty=ey,Kt=Wn,_a=function(t,r){switch(arguments.length){case 0:return _a;case 1:return function(){return function e(n){switch(arguments.length){case 0:return e;default:return Kt(t,n)}}}();default:return Kt(t,r)}},ny=_a,ay=x,uy=F,iy=ay(function(r,e,n){return uy(Math.max(r.length,e.length,n.length),function(){return r.apply(this,arguments)?e.apply(this,arguments):n.apply(this,arguments)})}),sy=iy,cy=re,oy=cy(1),vy=oy,ly=ze,fy=l,py=fy(ly),_y=py,hy=ve,dy=hy(function(t,r){return r},null),yy=dy,my=l,$y=qn,gy=U,xy=my(function(r,e){return typeof e.indexOf=="function"&&!gy(e)?e.indexOf(r):$y(e,r,0)}),wy=xy,Oy=Y,Ay=Oy(0,-1),ky=Ay,Sy=br,Py=x,Wy=Ue,My=Py(function(r,e,n){return Wy(function(a){return Sy(r,a,n)},e)}),qy=My,Iy=x,by=Iy(function(r,e,n){r=r<n.length&&r>=0?r:n.length;var a=Array.prototype.slice.call(n,0);return a.splice(r,0,e),a}),Ry=by,By=x,Ey=By(function(r,e,n){return r=r<n.length&&r>=0?r:n.length,[].concat(Array.prototype.slice.call(n,0,r),e,Array.prototype.slice.call(n,r))}),Dy=Ey,Ny=Cr,Qt=E,Ty=function(){function t(r,e){this.xf=e,this.f=r,this.set=new Ny}return t.prototype["@@transducer/init"]=Qt.init,t.prototype["@@transducer/result"]=Qt.result,t.prototype["@@transducer/step"]=function(r,e){return this.set.add(this.f(e))?this.xf["@@transducer/step"](r,e):r},t}();function Ly(t){return function(r){return new Ty(t,r)}}var Cy=Ly,Fy=Cr,jy=l,Xy=R,zy=Cy,Uy=jy(Xy([],zy,function(t,r){for(var e=new Fy,n=[],a=0,u,i;a<r.length;)i=r[a],u=t(i),e.add(u)&&n.push(i),a+=1;return n})),ha=Uy,Vy=oe,Ky=ha,Qy=Ky(Vy),it=Qy,Gy=l,Jy=Ue,Hy=Cr,Zy=it,Yy=Gy(function(r,e){for(var n=new Hy,a=0;a<r.length;a+=1)n.add(r[a]);return Zy(Jy(n.has.bind(n),e))}),r1=Yy,e1=Lr,t1=l,n1=t1(e1("intersperse",function(r,e){for(var n=[],a=0,u=e.length;a<u;)a===u-1?n.push(e[a]):n.push(e[a],r),a+=1;return n})),a1=n1,u1=V;function i1(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),e=1,n=arguments.length;e<n;){var a=arguments[e];if(a!=null)for(var u in a)u1(u,a)&&(r[u]=a[u]);e+=1}return r}var le=typeof Object.assign=="function"?Object.assign:i1,s1=l,c1=s1(function(r,e){var n={};return n[r]=e,n}),da=c1,o1=le,st=ce,ya=te,v1=Fe,l1=da,f1={"@@transducer/init":Array,"@@transducer/step":function(t,r){return t.push(r),t},"@@transducer/result":st},p1={"@@transducer/init":String,"@@transducer/step":function(t,r){return t+r},"@@transducer/result":st},_1={"@@transducer/init":Object,"@@transducer/step":function(t,r){return o1(t,ya(r)?l1(r[0],r[1]):r)},"@@transducer/result":st};function h1(t){if(v1(t))return t;if(ya(t))return f1;if(typeof t=="string")return p1;if(typeof t=="object")return _1;throw new Error("Cannot create transformer for "+t)}var d1=h1,y1=x,m1=Fe,$1=_r,g1=d1,x1=y1(function(r,e,n){var a=e(m1(r)?r:g1(r));return $1(a,a["@@transducer/init"](),n)}),w1=x1,O1=m,A1=V,k1=Z,S1=O1(function(r){for(var e=k1(r),n=e.length,a=0,u={};a<n;){var i=e[a],c=r[i],o=A1(c,u)?u[c]:u[c]=[];o[o.length]=i,a+=1}return u}),P1=S1,W1=m,M1=Z,q1=W1(function(r){for(var e=M1(r),n=e.length,a=0,u={};a<n;){var i=e[a];u[r[i]]=i,a+=1}return u}),I1=q1,b1=l,R1=Tr,B1=F,E1=mr,D1=b1(function(r,e){return B1(r+1,function(){var n=arguments[r];if(n!=null&&R1(n[e]))return n[e].apply(n,Array.prototype.slice.call(arguments,0,r));throw new TypeError(E1(n)+' does not have a method named "'+e+'"')})}),Fr=D1,N1=l,T1=N1(function(r,e){return e instanceof r||e!=null&&(e.constructor===r||r.name==="Object"&&typeof e=="object")}),ma=T1,L1=m,C1=va,F1=H,j1=L1(function(r){return r!=null&&F1(r,C1(r))}),X1=j1,z1=Nr,U1=m,V1=U1(function(r){return!z1(r)}),K1=V1,Q1=Fr,G1=Q1(1,"join"),J1=G1,H1=m,Z1=ea,Y1=H1(function(r){return Z1(function(){return Array.prototype.slice.call(arguments,0)},r)}),$a=Y1,rm=m,em=rm(function(r){var e,n=[];for(e in r)n[n.length]=e;return n}),tm=em,nm=l,am=U,um=H,im=nm(function(r,e){if(typeof e.lastIndexOf=="function"&&!am(e))return e.lastIndexOf(r);for(var n=e.length-1;n>=0;){if(um(e[n],r))return n;n-=1}return-1}),sm=im;function cm(t){return Object.prototype.toString.call(t)==="[object Number]"}var ga=cm,om=m,vm=ga,lm=om(function(r){return r!=null&&vm(r.length)?r.length:NaN}),xa=lm,fm=l,pm=ur,_m=fm(function(r,e){return function(n){return function(a){return pm(function(u){return e(u,a)},n(r(a)))}}}),fe=_m,hm=x,dm=Sn,ym=ae,mm=hm(function(r,e,n){return dm(r,ym(e),n)}),wa=mm,$m=m,gm=fe,xm=fr,wm=wa,Om=$m(function(r){return gm(xm(r),wm(r))}),Am=Om,km=l,Sm=cr,Pm=fr,Wm=km(function(r,e){return r.map(function(n){for(var a=e,u=0,i;u<n.length;){if(a==null)return;i=n[u],a=Sm(i)?Pm(i,a):a[i],u+=1}return a})}),Oa=Wm,Mm=l,qm=Oa,Im=Mm(function(r,e){return qm([r],e)[0]}),gr=Im,bm=m,Rm=Ge,Bm=fe,Em=gr,Dm=bm(function(r){return Bm(Em(r),Rm(r))}),Nm=Dm,Tm=m,Lm=Je,Cm=fe,Fm=pr,jm=Tm(function(r){return Cm(Fm(r),Lm(r))}),Xm=jm,zm=l,Um=zm(function(r,e){return r<e}),Vm=Um,Km=l,Qm=Km(function(r,e){return r<=e}),Gm=Qm,Jm=x,Hm=Jm(function(r,e,n){for(var a=0,u=n.length,i=[],c=[e];a<u;)c=r(c[0],n[a]),i[a]=c[1],a+=1;return[c[0],i]}),Zm=Hm,Ym=x,r$=Ym(function(r,e,n){for(var a=n.length-1,u=[],i=[e];a>=0;)i=r(i[0],n[a]),u[a]=i[1],a-=1;return[i[0],u]}),e$=r$,t$=Br,n$=l,a$=Z,u$=n$(function(r,e){return t$(function(n,a){return n[a]=r(e[a],a,e),n},{},a$(e))}),i$=u$,s$=l,c$=s$(function(r,e){return e.match(r)||[]}),o$=c$,v$=l,Gt=cr,l$=v$(function(r,e){return Gt(r)?!Gt(e)||e<1?NaN:(r%e+e)%e:NaN}),f$=l$,p$=x,_$=lr,h$=p$(function(r,e,n){var a=r(n);return _$(r(e),a)===a?n:e}),d$=h$,y$=re,m$=sr,$$=m$(y$,0),Aa=$$,g$=m,x$=Aa,w$=g$(function(r){return x$(r)/r.length}),ka=w$,O$=m,A$=ka,k$=O$(function(r){var e=r.length;if(e===0)return NaN;var n=2-e%2,a=(e-n)/2;return A$(Array.prototype.slice.call(r,0).sort(function(u,i){return u<i?-1:u>i?1:0}).slice(a,a+n))}),S$=k$,P$=ar,W$=l,M$=V,q$=W$(function(r,e){var n={};return P$(e.length,function(){var a=r.apply(this,arguments);return M$(a,n)||(n[a]=e.apply(this,arguments)),n[a]})}),I$=q$,b$=le,R$=m,B$=R$(function(r){return b$.apply(null,[{}].concat(r))}),E$=B$,D$=x,Ur=V,N$=D$(function(r,e,n){var a={},u;e=e||{},n=n||{};for(u in e)Ur(u,e)&&(a[u]=Ur(u,n)?r(u,e[u],n[u]):e[u]);for(u in n)Ur(u,n)&&!Ur(u,a)&&(a[u]=n[u]);return a}),ct=N$,T$=x,Jt=Er,L$=ct,C$=T$(function t(r,e,n){return L$(function(a,u,i){return Jt(u)&&Jt(i)?t(r,u,i):r(a,u,i)},e,n)}),pe=C$,F$=l,j$=pe,X$=F$(function(r,e){return j$(function(n,a,u){return a},r,e)}),z$=X$,U$=l,V$=pe,K$=U$(function(r,e){return V$(function(n,a,u){return u},r,e)}),Sa=K$,Q$=x,G$=pe,J$=Q$(function(r,e,n){return G$(function(a,u,i){return r(u,i)},e,n)}),H$=J$,Z$=le,Y$=l,rg=Y$(function(r,e){return Z$({},e,r)}),eg=rg,tg=le,ng=l,ag=ng(function(r,e){return tg({},r,e)}),ug=ag,ig=x,sg=ct,cg=ig(function(r,e,n){return sg(function(a,u,i){return r(u,i)},e,n)}),og=cg,vg=l,Ht=mr,lg=vg(function(r,e){if(r===e)return r;function n(o,v){if(o<v!=v<o)return v<o?v:o}var a=n(r,e);if(a!==void 0)return a;var u=n(typeof r,typeof e);if(u!==void 0)return u===typeof r?r:e;var i=Ht(r),c=n(i,Ht(e));return c!==void 0?c===i?r:e:r}),Pa=lg,fg=x,pg=Pa,_g=fg(function(r,e,n){var a=r(n);return pg(r(e),a)===a?n:e}),hg=_g,dg=U,yg=cr;function mg(t,r,e){if(yg(t)&&dg(e)){var n=[].concat(e);return n[t]=r(n[t]),n}var a={};for(var u in e)a[u]=e[u];return a[t]=r(a[t]),a}var $g=mg,gg=x,xg=U,wg=Er,Og=V,Ag=Qe,kg=$g,Sg=gg(function t(r,e,n){if(!wg(n)&&!xg(n)||r.length===0)return n;var a=r[0];if(!Og(a,n))return n;if(r.length===1)return kg(a,e,n);var u=t(Array.prototype.slice.call(r,1),e,n[a]);return u===n[a]?n:Ag(a,u,n)}),Wa=Sg,Pg=x,Wg=Wa,Mg=Pg(function(r,e,n){return Wg([r],e,n)}),qg=Mg,Ig=l,bg=Ig(function(r,e){return r%e}),Rg=bg,Bg=x,Eg=Bg(function(t,r,e){var n=e.length,a=e.slice(),u=t<0?n+t:t,i=r<0?n+r:r,c=a.splice(u,1);return u<0||u>=e.length||i<0||i>=e.length?e:[].concat(a.slice(0,i)).concat(c).concat(a.slice(i,e.length))}),Dg=Eg,Ng=l,Tg=Ng(function(r,e){return r*e}),Ma=Tg,Lg=Sa,Cg=l,Fg=Cg((t,r)=>e=>t.call(void 0,Lg(r,e))),jg=Fg,Xg=m,zg=Xg(function(r){return-r}),Ug=zg,Vg=In,Kg=l,Qg=Pn,Gg=Kg(function(r,e){return Qg(Vg(r),e)}),Jg=Gg,Hg=m,Zg=F,Yg=fr,rx=Hg(function(r){var e=r<0?1:r+1;return Zg(e,function(){return Yg(r,arguments)})}),ex=rx,tx=x,nx=tx(function(r,e,n){return r(e(n))}),ax=nx,ux=l,ix=ux(function(r,e){return typeof r["fantasy-land/of"]=="function"?r["fantasy-land/of"](e):typeof r.of=="function"?r.of(e):[e]}),sx=ix,cx=l,ox=cx(function(r,e){for(var n={},a={},u=0,i=r.length;u<i;)a[r[u]]=1,u+=1;for(var c in e)a.hasOwnProperty(c)||(n[c]=e[c]);return n}),vx=ox,lx=Ir,fx=lx(4,[],function(r,e,n,a){return r(e(n),e(a))}),px=fx,_x=ar,hx=m,dx=hx(function(r){var e=!1,n;return _x(r.length,function(){return e||(e=!0,n=r.apply(this,arguments)),n})}),yx=dx,mx=Tr,$x=Rn;function gx(t,r){if(r==null||!mx(r.then))throw new TypeError("`"+t+"` expected a Promise, received "+$x(r,[]))}var qa=gx,xx=l,wx=qa,Ox=xx(function(r,e){return wx("otherwise",e),e.then(null,r)}),Ax=Ox,kx=x,Ia=function(t){return{value:t,map:function(r){return Ia(r(t))}}},Sx=kx(function(r,e,n){return r(function(a){return Ia(e(a))})(n).value}),ba=Sx,Px=l,Wx=Px(function(r,e){return[r,e]}),Mx=Wx,qx=ar,Ix=l;function bx(t){return Ix(function(r,e){return qx(Math.max(0,r.length-e.length),function(){return r.apply(this,t(e,arguments))})})}var Ra=bx,Rx=J,Bx=Ra,Ex=Bx(Rx),Dx=Ex,Nx=J,Tx=Ra,Lx=fa,Cx=Tx(Lx(Nx)),Fx=Cx,jx=Ve,Xx=$a,zx=ee,Ux=Xx([jx,zx]),Vx=Ux,Kx=x,Qx=H,Gx=gr,Jx=Kx(function(r,e,n){return Qx(Gx(e,n),r)}),Hx=Jx,Zx=x,Yx=tt,r0=gr,e0=Zx(function(r,e,n){return Yx(r,r0(e,n))}),t0=e0,n0=x,a0=gr,u0=n0(function(r,e,n){return r(a0(e,n))}),i0=u0,s0=l,c0=s0(function(r,e){for(var n={},a=0;a<r.length;)r[a]in e&&(n[r[a]]=e[r[a]]),a+=1;return n}),o0=c0,v0=l,l0=v0(function(r,e){for(var n={},a=0,u=r.length;a<u;){var i=r[a];n[i]=e[i],a+=1}return n}),Ba=l0,f0=l,p0=f0(function(r,e){var n={};for(var a in e)r(e[a],a,e)&&(n[a]=e[a]);return n}),_0=p0,h0=J,d0=l,y0=d0(function(r,e){return h0([r],e)}),Ea=y0,m0=Ma,$0=sr,g0=$0(m0,1),x0=g0,w0=l,O0=F,A0=w0(function(r,e){return O0(e.length,function(){for(var n=[],a=0;a<e.length;)n.push(e[a].call(this,arguments[a])),a+=1;return r.apply(this,n.concat(Array.prototype.slice.call(arguments,e.length)))})}),Da=A0,k0=Rr,S0=oe,P0=Ba,W0=Da,M0=W0(k0,[P0,S0]),q0=M0;function I0(t,r,e){return function(n){return r(e(t(n)))}}var Na=I0,Zt=E,b0=Na,R0=function(){function t(r,e,n){this.xf=n,this.f=r,this.g=e}return t.prototype["@@transducer/init"]=Zt.init,t.prototype["@@transducer/result"]=Zt.result,t.prototype["@@transducer/step"]=function(r,e){return this.xf["@@transducer/step"](r,b0(this.f,this.g,e))},t}();function B0(t,r){return function(e){return new R0(t,r,e)}}var E0=B0,D0=x,N0=R,T0=Na,L0=E0,C0=D0(N0(["fantasy-land/promap","promap"],L0,T0)),F0=C0,j0=x,X0=pr,z0=H,U0=j0(function(r,e,n){return z0(r,X0(e,n))}),V0=U0,K0=x,Q0=pr,G0=ma,J0=K0(function(r,e,n){return G0(r,Q0(e,n))}),H0=J0,Z0=x,Y0=tt,r2=pr,e2=Z0(function(r,e,n){return Y0(r,r2(e,n))}),t2=e2,n2=x,a2=pr,u2=n2(function(r,e,n){return r(a2(e,n))}),i2=u2,s2=l,c2=gr,o2=s2(function(r,e){return r.map(function(n){return c2([n],e)})}),v2=o2,l2=l,Yt=ga,f2=l2(function(r,e){if(!(Yt(r)&&Yt(e)))throw new TypeError("Both arguments to range must be numbers");for(var n=[],a=r;a<e;)n.push(a),a+=1;return n}),p2=f2,_2=x,h2=_2(function(r,e,n){for(var a=n.length-1;a>=0;){if(e=r(n[a],e),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}a-=1}return e}),Ta=h2,d2=Ir,y2=_r,m2=ne,$2=ir,g2=d2(4,[],function(r,e,n,a){var u=m2(function(i,c){return r(i,c)?e(i,c):$2(i)});return y2(u,n,a)}),x2=g2,w2=m,O2=ir,A2=w2(O2),k2=A2,S2=l,P2=S2(function(r,e){var n=Number(e),a=0,u;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(u=[];a<n;)u.push(r(a)),a+=1;return u}),La=P2,W2=l,M2=ae,q2=La,I2=W2(function(r,e){return q2(M2(r),e)}),b2=I2,R2=x,B2=R2(function(r,e,n){return n.replace(r,e)}),E2=B2,D2=x,N2=E,rn="@@transducer/init",Pe="@@transducer/step",T2=function(){function t(r,e,n){this.xf=n,this.f=r,this.acc=e}return t.prototype[rn]=function(){return this.xf[Pe](this.xf[rn](),this.acc)},t.prototype["@@transducer/result"]=N2.result,t.prototype[Pe]=function(r,e){return r["@@transducer/reduced"]?r:(this.acc=this.f(this.acc,e),this.xf[Pe](r,this.acc))},t}(),L2=D2(function(r,e,n){return new T2(r,e,n)}),C2=L2,F2=x,j2=R,X2=C2,z2=F2(j2([],X2,function(r,e,n){for(var a=0,u=n.length,i=[e];a<u;)e=r(e,n[a]),i[a+1]=e,a+=1;return i})),U2=z2,V2=l,K2=Ke,Q2=ur,G2=Ea,J2=Ta,en=ce,H2=V2(function(r,e){var n=typeof r["fantasy-land/of"]=="function"?r["fantasy-land/of"]:typeof r.of=="function"?r.of:r,a={"fantasy-land/of":n};return typeof e["fantasy-land/traverse"]=="function"?e["fantasy-land/traverse"](a,en):typeof e.traverse=="function"?e.traverse(a,en):J2(function(u,i){return K2(Q2(G2,u),i)},n([]),e)}),Ca=H2,Z2=x,Y2=ae,rw=ba,ew=Z2(function(r,e,n){return rw(r,Y2(e),n)}),tw=ew,nw=l,aw=nw(function(r,e){return Array.prototype.slice.call(e,0).sort(r)}),uw=aw,iw=l,sw=iw(function(r,e){return Array.prototype.slice.call(e,0).sort(function(n,a){var u=r(n),i=r(a);return u<i?-1:u>i?1:0})}),cw=sw,ow=l,vw=ow(function(r,e){return Array.prototype.slice.call(e,0).sort(function(n,a){for(var u=0,i=0;u===0&&i<r.length;)u=r[i](n,a),i+=1;return u})}),lw=vw,fw=Fr,pw=fw(1,"split"),_w=pw,hw=l,dw=xa,tn=Y,yw=hw(function(r,e){return[tn(0,r,e),tn(r,dw(e),e)]}),mw=yw,$w=l,gw=Y,xw=$w(function(r,e){if(r<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],a=0;a<e.length;)n.push(gw(a,a+=r,e));return n}),ww=xw,Ow=l,Aw=Ow(function(r,e){for(var n=0,a=e.length,u=[];n<a&&!r(e[n]);)u.push(e[n]),n+=1;return[u,Array.prototype.slice.call(e,n)]}),kw=Aw,Sw=Ir,Pw=Sw(2,[],function(r,e){for(var n=[],a=[],u=0;u<e.length;u=u+1)r(e[u])||a.push(e[u]),(u<e.length-1&&r(e[u+1])||u===e.length-1)&&a.length>0&&(n.push(a),a=[]);return n}),Ww=Pw,Mw=l,qw=H,Iw=nt,bw=Mw(function(t,r){return qw(Iw(t.length,r),t)}),Rw=bw,Bw=l,Ew=Bw(function(r,e){return Number(r)-Number(e)}),Dw=Ew,Nw=x,Fa=U,Tw=$r,Lw=Qn,Cw=function(t,r,e){var n=Lw(e),a=Object.getOwnPropertyNames(n);if(a.includes(t)&&a.includes(r)){var u=n[t];n[t]=n[r],n[r]=u}return n},ja=function(t,r,e){var n=e.length,a=e.slice(),u=t<0?n+t:t,i=r<0?n+r:r,c=Math.min(u,i),o=Math.max(u,i);return u<0||u>n||i<0||i>n||u===i||(a=[].concat(a.slice(0,c)).concat(a[o]).concat(a.slice(c+1,o)).concat(a[c]).concat(a.slice(o+1,n))),a},Fw=function(t,r,e){var n=ja(t,r,e);return Fa(n)?n.join(""):n},jw=Nw(function(t,r,e){return Fa(e)?ja(t,r,e):Tw(e)?Fw(t,r,e):Cw(t,r,e)}),Xw=jw,zw=l,Uw=rt,nn=ta,Vw=zw(function(r,e){return Uw(nn(r,e),nn(e,r))}),Kw=Vw,Qw=x,Gw=rt,an=na,Jw=Qw(function(r,e,n){return Gw(an(r,e,n),an(r,n,e))}),Hw=Jw,Zw=l,Yw=Y,rO=Zw(function(r,e){for(var n=e.length-1;n>=0&&r(e[n]);)n-=1;return Yw(n+1,1/0,e)}),eO=rO,tO=ir,un=E,nO=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=un.init,t.prototype["@@transducer/result"]=un.result,t.prototype["@@transducer/step"]=function(r,e){return this.f(e)?this.xf["@@transducer/step"](r,e):tO(r)},t}();function aO(t){return function(r){return new nO(t,r)}}var uO=aO,iO=l,sO=R,cO=uO,oO=Y,vO=iO(sO(["takeWhile"],cO,function(r,e){for(var n=0,a=e.length;n<a&&r(e[n]);)n+=1;return oO(0,n,e)})),lO=vO,sn=E,fO=function(){function t(r,e){this.xf=e,this.f=r}return t.prototype["@@transducer/init"]=sn.init,t.prototype["@@transducer/result"]=sn.result,t.prototype["@@transducer/step"]=function(r,e){return this.f(e),this.xf["@@transducer/step"](r,e)},t}();function pO(t){return function(r){return new fO(t,r)}}var _O=pO,hO=l,dO=R,yO=_O,mO=hO(dO([],yO,function(r,e){return r(e),e})),$O=mO;function gO(t){return Object.prototype.toString.call(t)==="[object RegExp]"}var xO=gO,wO=Vn,OO=l,AO=xO,kO=mr,SO=OO(function(r,e){if(!AO(r))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+kO(r));return wO(r).test(e)}),PO=SO,WO=l,MO=qa,qO=WO(function(r,e){return MO("andThen",e),e.then(r)}),IO=qO,bO=Fr,RO=bO(0,"toLowerCase"),BO=RO,EO=m,DO=V,NO=EO(function(r){var e=[];for(var n in r)DO(n,r)&&(e[e.length]=[n,r[n]]);return e}),TO=NO,LO=m,CO=LO(function(r){var e=[];for(var n in r)e[e.length]=[n,r[n]];return e}),FO=CO,jO=Fr,XO=jO(0,"toUpperCase"),zO=XO,UO=_r,VO=ne,KO=F,QO=KO(4,function(r,e,n,a){return UO(r(typeof e=="function"?VO(e):e),n,a)}),GO=QO,JO=m,HO=JO(function(r){for(var e=0,n=[];e<r.length;){for(var a=r[e],u=0;u<a.length;)typeof n[u]>"u"&&(n[u]=[]),n[u].push(a[u]),u+=1;e+=1}return n}),ZO=HO,YO=x,rA=ur,eA=Ca,tA=YO(function(r,e,n){var a=typeof r["fantasy-land/of"]=="function"?r["fantasy-land/of"]:typeof r.of=="function"?r.of:r,u={"fantasy-land/of":a};return typeof n["fantasy-land/traverse"]=="function"?n["fantasy-land/traverse"](u,e):typeof n.traverse=="function"?n.traverse(u,e):eA(u,rA(e,n))}),nA=tA,cn=m,Ar=`	
\v\f\r                　\u2028\u2029\uFEFF`,aA="​",uA=typeof String.prototype.trim=="function",iA=cn(!uA||Ar.trim()||!aA.trim()?function(r){var e=new RegExp("^["+Ar+"]["+Ar+"]*"),n=new RegExp("["+Ar+"]["+Ar+"]*$");return r.replace(e,"").replace(n,"")}:function(r){return r.trim()}),sA=iA,cA=ar,oA=J,vA=l,lA=vA(function(r,e){return cA(r.length,function(){try{return r.apply(this,arguments)}catch(n){return e.apply(this,oA([n],arguments))}})}),fA=lA,pA=m,_A=pA(function(r){return function(){return r(Array.prototype.slice.call(arguments,0))}}),hA=_A,dA=m,yA=ie,mA=dA(function(r){return yA(1,r)}),$A=mA,gA=l,xA=F,wA=gA(function(r,e){return xA(r,function(){for(var n=1,a=e,u=0,i;n<=r&&typeof a=="function";)i=n===r?arguments.length:u+a.length,a=a.apply(this,Array.prototype.slice.call(arguments,u,i)),n+=1,u=i;return a})}),OA=wA,AA=l,kA=AA(function(r,e){for(var n=r(e),a=[];n&&n.length;)a[a.length]=n[0],n=r(n[1]);return a}),SA=kA,PA=J,WA=l,MA=Hn,qA=it,IA=WA(MA(qA,PA)),bA=IA,RA=br,on=E,BA=function(){function t(r,e){this.xf=e,this.pred=r,this.items=[]}return t.prototype["@@transducer/init"]=on.init,t.prototype["@@transducer/result"]=on.result,t.prototype["@@transducer/step"]=function(r,e){return RA(this.pred,e,this.items)?r:(this.items.push(e),this.xf["@@transducer/step"](r,e))},t}();function EA(t){return function(r){return new BA(t,r)}}var DA=EA,NA=l,TA=R,LA=br,CA=DA,FA=NA(TA([],CA,function(t,r){for(var e=0,n=r.length,a=[],u;e<n;)u=r[e],LA(t,u,a)||(a[a.length]=u),e+=1;return a})),Xa=FA,jA=J,XA=x,zA=Xa,UA=XA(function(r,e,n){return zA(r,jA(e,n))}),VA=UA,KA=x,QA=KA(function(r,e,n){return r(n)?n:e(n)}),GA=QA,JA=ce,HA=Un,ZA=HA(JA),YA=ZA,r3=x,e3=r3(function(r,e,n){for(var a=n;!r(a);)a=e(a);return a}),t3=e3,n3=l,a3=U,u3=Rr,i3=Qe,s3=n3(function(t,r){return t in r&&a3(r[t])?u3(function(e){return i3(t,e,r)},r[t]):[r]}),c3=s3,o3=m,v3=o3(function(r){var e,n=[];for(e in r)n[n.length]=r[e];return n}),l3=v3,f3=l,p3=function(t){return{value:t,"fantasy-land/map":function(){return this}}},_3=f3(function(r,e){return r(p3)(e).value}),h3=_3,d3=x,y3=d3(function(r,e,n){return r(n)?e(n):n}),m3=y3,$3=l,g3=V,x3=$3(function(r,e){for(var n in r)if(g3(n,r)&&!r[n](e[n]))return!1;return!0}),za=x3,w3=l,O3=V,A3=w3(function(r,e){for(var n in r)if(O3(n,r)&&r[n](e[n]))return!0;return!1}),k3=A3,S3=l,P3=H,W3=ur,M3=za,q3=S3(function(r,e){return M3(W3(P3,r),e)}),I3=q3,b3=l,R3=Cr,B3=ee,E3=b3(function(r,e){for(var n=new R3,a=0;a<r.length;a+=1)n.add(r[a]);return B3(n.has.bind(n),e)}),D3=E3,N3=l,T3=N3(function(r,e){return!!(!r^!e)}),L3=T3,C3=l,F3=C3(function(r,e){for(var n=0,a=r.length,u,i=e.length,c=[];n<a;){for(u=0;u<i;)c[c.length]=[r[n],e[u]],u+=1;n+=1}return c}),j3=F3,X3=l,z3=X3(function(r,e){for(var n=[],a=0,u=Math.min(r.length,e.length);a<u;)n[a]=[r[a],e[a]],a+=1;return n}),U3=z3,V3=l,K3=V3(function(r,e){for(var n=0,a=Math.min(r.length,e.length),u={};n<a;)u[r[n]]=e[n],n+=1;return u}),Q3=K3,G3=x,J3=G3(function(r,e,n){for(var a=[],u=0,i=Math.min(e.length,n.length);u<i;)a[u]=r(e[u],n[u]),u+=1;return a}),H3=J3,Z3=F,Y3=m,rk=Y3(function(r){return Z3(r.length,function(){var n=arguments;return function(){return r.apply(this,n)}})}),ek=rk;s.exports={};s.exports.F=ku;s.exports.T=Pu;s.exports.__=Wu;s.exports.add=re;s.exports.addIndex=Ku;s.exports.addIndexRight=Zu;s.exports.adjust=Sn;s.exports.all=Pn;s.exports.allPass=dc;s.exports.always=ae;s.exports.and=Tn;s.exports.any=qc;s.exports.anyPass=Nc;s.exports.ap=Ke;s.exports.aperture=io;s.exports.append=vo;s.exports.apply=Ln;s.exports.applySpec=Po;s.exports.applyTo=qo;s.exports.ascend=Ro;s.exports.assoc=Je;s.exports.assocPath=Ge;s.exports.binary=Yo;s.exports.bind=Nn;s.exports.both=_v;s.exports.call=yv;s.exports.chain=Un;s.exports.clamp=jv;s.exports.clone=Qn;s.exports.collectBy=rl;s.exports.comparator=nl;s.exports.complement=ol;s.exports.compose=Hn;s.exports.composeWith=Gl;s.exports.concat=rt;s.exports.cond=af;s.exports.construct=df;s.exports.constructN=ra;s.exports.converge=ea;s.exports.count=Pf;s.exports.countBy=Uf;s.exports.curry=et;s.exports.curryN=F;s.exports.dec=Qf;s.exports.defaultTo=tt;s.exports.descend=Yf;s.exports.difference=ta;s.exports.differenceWith=na;s.exports.dissoc=Op;s.exports.dissocPath=ua;s.exports.divide=Sp;s.exports.drop=ia;s.exports.dropLast=t_;s.exports.dropLastWhile=d_;s.exports.dropRepeats=I_;s.exports.dropRepeatsBy=C_;s.exports.dropRepeatsWith=ut;s.exports.dropWhile=G_;s.exports.either=nh;s.exports.empty=va;s.exports.endsWith=gh;s.exports.eqBy=ca;s.exports.eqProps=Ah;s.exports.equals=H;s.exports.evolve=Mh;s.exports.filter=Ve;s.exports.find=Lh;s.exports.findIndex=Gh;s.exports.findLast=ad;s.exports.findLastIndex=pd;s.exports.flatten=yd;s.exports.flip=fa;s.exports.forEach=Ad;s.exports.forEachObjIndexed=Wd;s.exports.fromPairs=Id;s.exports.groupBy=Dd;s.exports.groupWith=Ld;s.exports.gt=jd;s.exports.gte=Ud;s.exports.has=Zd;s.exports.hasIn=ty;s.exports.hasPath=pa;s.exports.head=Zn;s.exports.identical=ny;s.exports.identity=oe;s.exports.ifElse=sy;s.exports.inc=vy;s.exports.includes=_y;s.exports.indexBy=yy;s.exports.indexOf=wy;s.exports.init=ky;s.exports.innerJoin=qy;s.exports.insert=Ry;s.exports.insertAll=Dy;s.exports.intersection=r1;s.exports.intersperse=a1;s.exports.into=w1;s.exports.invert=P1;s.exports.invertObj=I1;s.exports.invoker=Fr;s.exports.is=ma;s.exports.isEmpty=X1;s.exports.isNil=Nr;s.exports.isNotNil=K1;s.exports.join=J1;s.exports.juxt=$a;s.exports.keys=Z;s.exports.keysIn=tm;s.exports.last=sa;s.exports.lastIndexOf=sm;s.exports.length=xa;s.exports.lens=fe;s.exports.lensIndex=Am;s.exports.lensPath=Nm;s.exports.lensProp=Xm;s.exports.lift=se;s.exports.liftN=Fn;s.exports.lt=Vm;s.exports.lte=Gm;s.exports.map=ur;s.exports.mapAccum=Zm;s.exports.mapAccumRight=e$;s.exports.mapObjIndexed=i$;s.exports.match=o$;s.exports.mathMod=f$;s.exports.max=lr;s.exports.maxBy=d$;s.exports.mean=ka;s.exports.median=S$;s.exports.memoizeWith=I$;s.exports.mergeAll=E$;s.exports.mergeDeepLeft=z$;s.exports.mergeDeepRight=Sa;s.exports.mergeDeepWith=H$;s.exports.mergeDeepWithKey=pe;s.exports.mergeLeft=eg;s.exports.mergeRight=ug;s.exports.mergeWith=og;s.exports.mergeWithKey=ct;s.exports.min=Pa;s.exports.minBy=hg;s.exports.modify=qg;s.exports.modifyPath=Wa;s.exports.modulo=Rg;s.exports.move=Dg;s.exports.multiply=Ma;s.exports.nAry=ie;s.exports.partialObject=jg;s.exports.negate=Ug;s.exports.none=Jg;s.exports.not=Gn;s.exports.nth=fr;s.exports.nthArg=ex;s.exports.o=ax;s.exports.objOf=da;s.exports.of=sx;s.exports.omit=vx;s.exports.on=px;s.exports.once=yx;s.exports.or=oa;s.exports.otherwise=Ax;s.exports.over=ba;s.exports.pair=Mx;s.exports.partial=Dx;s.exports.partialRight=Fx;s.exports.partition=Vx;s.exports.path=gr;s.exports.paths=Oa;s.exports.pathEq=Hx;s.exports.pathOr=t0;s.exports.pathSatisfies=i0;s.exports.pick=o0;s.exports.pickAll=Ba;s.exports.pickBy=_0;s.exports.pipe=Jn;s.exports.pipeWith=Yn;s.exports.pluck=Dr;s.exports.prepend=Ea;s.exports.product=x0;s.exports.project=q0;s.exports.promap=F0;s.exports.prop=pr;s.exports.propEq=V0;s.exports.propIs=H0;s.exports.propOr=t2;s.exports.propSatisfies=i2;s.exports.props=v2;s.exports.range=p2;s.exports.reduce=sr;s.exports.reduceBy=ve;s.exports.reduceRight=Ta;s.exports.reduceWhile=x2;s.exports.reduced=k2;s.exports.reject=ee;s.exports.remove=aa;s.exports.repeat=b2;s.exports.replace=E2;s.exports.reverse=Ye;s.exports.scan=U2;s.exports.sequence=Ca;s.exports.set=tw;s.exports.slice=Y;s.exports.sort=uw;s.exports.sortBy=cw;s.exports.sortWith=lw;s.exports.split=_w;s.exports.splitAt=mw;s.exports.splitEvery=ww;s.exports.splitWhen=kw;s.exports.splitWhenever=Ww;s.exports.startsWith=Rw;s.exports.subtract=Dw;s.exports.sum=Aa;s.exports.swap=Xw;s.exports.symmetricDifference=Kw;s.exports.symmetricDifferenceWith=Hw;s.exports.tail=Ze;s.exports.take=nt;s.exports.takeLast=la;s.exports.takeLastWhile=eO;s.exports.takeWhile=lO;s.exports.tap=$O;s.exports.test=PO;s.exports.andThen=IO;s.exports.times=La;s.exports.toLower=BO;s.exports.toPairs=TO;s.exports.toPairsIn=FO;s.exports.toString=mr;s.exports.toUpper=zO;s.exports.transduce=GO;s.exports.transpose=ZO;s.exports.traverse=nA;s.exports.trim=sA;s.exports.tryCatch=fA;s.exports.type=je;s.exports.unapply=hA;s.exports.unary=$A;s.exports.uncurryN=OA;s.exports.unfold=SA;s.exports.union=bA;s.exports.unionWith=VA;s.exports.uniq=it;s.exports.uniqBy=ha;s.exports.uniqWith=Xa;s.exports.unless=GA;s.exports.unnest=YA;s.exports.until=t3;s.exports.unwind=c3;s.exports.update=wa;s.exports.useWith=Da;s.exports.values=Cn;s.exports.valuesIn=l3;s.exports.view=h3;s.exports.when=m3;s.exports.where=za;s.exports.whereAny=k3;s.exports.whereEq=I3;s.exports.without=D3;s.exports.xor=L3;s.exports.xprod=j3;s.exports.zip=U3;s.exports.zipObj=Q3;s.exports.zipWith=H3;s.exports.thunkify=ek;var jr=s.exports,Ua={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.curried=void 0;const r=e=>n=>{if(n.length===0)return[[],[]];const a=[];n.forEach((c,o)=>{a.push([e[o],o,n[o]])}),a.sort(([c],[o])=>c-o);const u=[],i=[];return a.forEach(([c,o,v])=>{i.push(o),u.push(v)}),[u,i]};t.curried=r,t.default=(e,n)=>(0,t.curried)(e)(n)})(Ua);var Va={},_e={},B={};Object.defineProperty(B,"__esModule",{value:!0});B.utilSumQ=B.utilA=B.sum=B.score=B.rankings=B.ladderPairs=B.gamma=B.default=void 0;var tk=jr,nk=ak(q);function ak(t){return t&&t.__esModule?t:{default:t}}const Sr=(t,r)=>t+r;B.sum=Sr;const uk=(t,r)=>t<r?0:t>r?1:.5;B.score=uk;const Ka=(t,r=[])=>{const e=t.map((u,i)=>r[i]||i),n=new Array(t.length);let a=0;for(let u=0;u<e.length;u+=1)u>0&&e[u-1]<e[u]&&(a=u),n[u]=a;return n};B.rankings=Ka;const ik=t=>r=>{const e=Ka(r,t.rank);return r.map((n,a)=>[n.map(({mu:u})=>u).reduce(Sr,0),n.map(({sigma:u})=>u*u).reduce(Sr,0),n,e[a]])},sk=t=>{const r=t.length,e=[void 0,...t.slice(0,r-1)],n=[...t.slice(1),void 0];return(0,tk.zip)(e,n).map(([a,u])=>a!==void 0&&u!==void 0?[a,u]:a!==void 0&&u===void 0?[a]:a===void 0&&u!==void 0?[u]:[])};B.ladderPairs=sk;const ck=t=>{const{BETASQ:r}=(0,nk.default)(t);return e=>Math.sqrt(e.map(([n,a,u,i])=>a+r).reduce(Sr,0))},ok=(t,r)=>t.map(([e,n,a,u])=>t.filter(([i,c,o,v])=>v>=u).map(([i,c,o,v])=>Math.exp(i/r)).reduce(Sr,0));B.utilSumQ=ok;const vk=t=>t.map(([r,e,n,a])=>t.filter(([u,i,c,o])=>a===o).length);B.utilA=vk;const Qa=t=>t.gamma??((r,e,n,a,u,i)=>Math.sqrt(a)/r);B.gamma=Qa;var lk=t=>({utilC:ck(t),teamRating:ik(t),gamma:Qa(t)});B.default=lk;Object.defineProperty(_e,"__esModule",{value:!0});_e.default=void 0;var We=_k(B),fk=pk(q);function pk(t){return t&&t.__esModule?t:{default:t}}function Ga(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,e=new WeakMap;return(Ga=function(n){return n?e:r})(t)}function _k(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var e=Ga(r);if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(u!=="default"&&Object.prototype.hasOwnProperty.call(t,u)){var i=a?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}const hk=(t,r={})=>{const{EPSILON:e}=(0,fk.default)(r),{utilC:n,teamRating:a,gamma:u}=(0,We.default)(r),i=a(t),c=n(i),o=(0,We.utilSumQ)(i,c),v=(0,We.utilA)(i);return i.map((f,p)=>{const[g,S,I,W]=f,_=Math.exp(g/c),[A,w]=i.filter(([d,$,k,O])=>O<=W).reduce(([d,$],[k],O)=>{const T=_/o[O];return[d+(p===O?1-T:-T)/v[O],$+T*(1-T)/v[O]]},[0,0]),b=u(c,i.length,...f),y=A*(S/c),h=b*w*(S/c**2);return I.map(({mu:d,sigma:$})=>({mu:d+$**2/S*y,sigma:$*Math.sqrt(Math.max(1-$**2/S*h,e))}))})};var dk=hk;_e.default=dk;var he={};Object.defineProperty(he,"__esModule",{value:!0});he.default=void 0;var vn=$k(B),yk=mk(q);function mk(t){return t&&t.__esModule?t:{default:t}}function Ja(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,e=new WeakMap;return(Ja=function(n){return n?e:r})(t)}function $k(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var e=Ja(r);if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(u!=="default"&&Object.prototype.hasOwnProperty.call(t,u)){var i=a?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}const gk=(t,r={})=>{const{TWOBETASQ:e,EPSILON:n}=(0,yk.default)(r),{teamRating:a,gamma:u}=(0,vn.default)(r),i=a(t);return i.map((c,o)=>{const[v,f,p,g]=c,[S,I]=i.filter((W,_)=>_!==o).reduce(([W,_],[A,w,b,y])=>{const h=Math.sqrt(f+w+e),d=1/(1+Math.exp((A-v)/h)),$=f/h,k=u(h,i.length,...c);return[W+$*((0,vn.score)(y,g)-d),_+k*$/h*d*(1-d)]},[0,0]);return p.map(({mu:W,sigma:_})=>{const A=_*_;return{mu:W+A/f*S,sigma:_*Math.sqrt(Math.max(1-A/f*I,n))}})})};var xk=gk;he.default=xk;var de={};Object.defineProperty(de,"__esModule",{value:!0});de.default=void 0;var wk=jr,Me=kk(B),Ok=Ak(q);function Ak(t){return t&&t.__esModule?t:{default:t}}function Ha(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,e=new WeakMap;return(Ha=function(n){return n?e:r})(t)}function kk(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var e=Ha(r);if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(u!=="default"&&Object.prototype.hasOwnProperty.call(t,u)){var i=a?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}const Sk=(t,r={})=>{const{TWOBETASQ:e,EPSILON:n}=(0,Ok.default)(r),{teamRating:a,gamma:u}=(0,Me.default)(r),i=a(t),c=(0,Me.ladderPairs)(i);return(0,wk.zip)(i,c).map(([o,v])=>{const[f,p,g,S]=o,[I,W]=v.reduce(([_,A],[w,b,y,h])=>{const d=Math.sqrt(p+b+e),$=1/(1+Math.exp((w-f)/d)),k=p/d,O=u(d,i.length,...o);return[_+k*((0,Me.score)(h,S)-$),A+O*k/d*$*(1-$)]},[0,0]);return g.map(({mu:_,sigma:A})=>{const w=A*A;return{mu:_+w/p*I,sigma:A*Math.sqrt(Math.max(1-w/p*W,n))}})})};var Pk=Sk;de.default=Pk;var ye={},L={},Za={exports:{}},Ya={exports:{}};(function(t,r){(function(e){const n=Math.PI*2;function a(u,i,c=null){var o,v;c?(o=c(),v=c()):(o=Math.random(),v=Math.random());var f=Math.sqrt(-2*Math.log(o))*Math.cos(n*v);return f*i+u}e(a)})(function(e){t.exports=e})})(Ya);var Wk=Ya.exports;(function(t,r){(function(e){const n=Wk;var a=function(v){var f=Math.abs(v),p=1/(1+f/2),g=p*Math.exp(-f*f-1.26551223+p*(1.00002368+p*(.37409196+p*(.09678418+p*(-.18628806+p*(.27886807+p*(-1.13520398+p*(1.48851587+p*(-.82215223+p*.17087277)))))))));return v>=0?g:2-g},u=function(v){if(v>=2)return-100;if(v<=0)return 100;for(var f=v<1?v:2-v,p=Math.sqrt(-2*Math.log(f/2)),g=-.70711*((2.30753+p*.27061)/(1+p*(.99229+p*.04481))-p),S=0;S<2;S++){var I=a(g)-f;g+=I/(1.1283791670955126*Math.exp(-(g*g))-g*I)}return v<1?g:-g},i=function(v,f){if(f<=0)throw new Error("Variance must be > 0 (but was "+f+")");this.mean=v,this.variance=f,this.standardDeviation=Math.sqrt(f)};i.prototype.pdf=function(v){var f=this.standardDeviation*Math.sqrt(2*Math.PI),p=Math.exp(-Math.pow(v-this.mean,2)/(2*this.variance));return p/f},i.prototype.cdf=function(v){return .5*a(-(v-this.mean)/(this.standardDeviation*Math.sqrt(2)))},i.prototype.ppf=function(v){return this.mean-this.standardDeviation*Math.sqrt(2)*u(2*v)},i.prototype.mul=function(v){if(typeof v=="number")return this.scale(v);var f=1/this.variance,p=1/v.variance;return o(f+p,f*this.mean+p*v.mean)},i.prototype.div=function(v){if(typeof v=="number")return this.scale(1/v);var f=1/this.variance,p=1/v.variance;return o(f-p,f*this.mean-p*v.mean)},i.prototype.add=function(v){return c(this.mean+v.mean,this.variance+v.variance)},i.prototype.sub=function(v){return c(this.mean-v.mean,this.variance+v.variance)},i.prototype.scale=function(v){return c(this.mean*v,this.variance*v*v)},i.prototype.random=function(v,f=null){let p=this.mean,g=this.standardDeviation;return Array(v).fill(0).map(()=>n(p,g,f))};var c=function(v,f){return new i(v,f)},o=function(v,f){return c(f/v,1/v)};e(c)})(function(e){t.exports=e})})(Za);var Mk=Za.exports;Object.defineProperty(L,"__esModule",{value:!0});L.wt=L.w=L.vt=L.v=L.phiMinor=L.phiMajorInverse=L.phiMajor=void 0;var qk=Ik(Mk);function Ik(t){return t&&t.__esModule?t:{default:t}}const ot=(0,qk.default)(0,1),vr=t=>ot.cdf(t);L.phiMajor=vr;const bk=t=>ot.ppf(t);L.phiMajorInverse=bk;const yr=t=>ot.pdf(t);L.phiMinor=yr;const Be=(t,r)=>{const e=t-r,n=vr(e);return n<Number.EPSILON?-e:yr(e)/n};L.v=Be;const Rk=(t,r)=>{const e=t-r;return vr(e)<Number.EPSILON?t<0?1:0:Be(t,r)*(Be(t,r)+e)};L.w=Rk;const Ee=(t,r)=>{const e=Math.abs(t),n=vr(r-e)-vr(-r-e);if(n<1e-5)return t<0?-t-r:-t+r;const a=yr(-r-e)-yr(r-e);return(t<0?-a:a)/n};L.vt=Ee;const Bk=(t,r)=>{const e=Math.abs(t),n=vr(r-e)-vr(-r-e);return n<Number.EPSILON?1:((r-e)*yr(r-e)+(r+e)*yr(-r-e))/n+Ee(t,r)*Ee(t,r)};L.wt=Bk;Object.defineProperty(ye,"__esModule",{value:!0});ye.default=void 0;var Ek=ru(B),Dk=ru(q),Vr=L;function ru(t){return t&&t.__esModule?t:{default:t}}const Nk=(t,r={})=>{const{TWOBETASQ:e,EPSILON:n}=(0,Dk.default)(r),{teamRating:a,gamma:u}=(0,Ek.default)(r),i=a(t);return i.map((c,o)=>{const[v,f,p,g]=c,[S,I]=i.filter((W,_)=>o!==_).reduce(([W,_],[A,w,b,y])=>{const h=Math.sqrt(f+w+e),d=(v-A)/h,$=f/h,k=u(h,i.length,...c);if(y===g)return[W+$*(0,Vr.vt)(d,n/h),_+k*$/h*(0,Vr.wt)(d,n/h)];const O=y>g?1:-1;return[W+O*$*(0,Vr.v)(O*d,n/h),_+k*$/h*(0,Vr.w)(O*d,n/h)]},[0,0]);return p.map(({mu:W,sigma:_})=>{const A=_*_;return{mu:W+A/f*S,sigma:_*Math.sqrt(Math.max(1-A/f*I,n))}})})};var Tk=Nk;ye.default=Tk;var me={};Object.defineProperty(me,"__esModule",{value:!0});me.default=void 0;var Lk=jr,ln=jk(B),Kr=L,Ck=Fk(q);function Fk(t){return t&&t.__esModule?t:{default:t}}function eu(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,e=new WeakMap;return(eu=function(n){return n?e:r})(t)}function jk(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var e=eu(r);if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(u!=="default"&&Object.prototype.hasOwnProperty.call(t,u)){var i=a?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}const Xk=(t,r={})=>{const{TWOBETASQ:e,EPSILON:n}=(0,Ck.default)(r),{teamRating:a,gamma:u}=(0,ln.default)(r),i=a(t),c=(0,ln.ladderPairs)(i);return(0,Lk.zip)(i,c).map(([o,v])=>{const[f,p,g,S]=o,[I,W]=v.reduce(([_,A],[w,b,y,h])=>{const d=2*Math.sqrt(p+b+e),$=(f-w)/d,k=p/d,O=u(d,i.length,...o);if(h===S)return[_+k*(0,Kr.vt)($,n/d),A+O*k/d*(0,Kr.wt)($,n/d)];const T=h>S?1:-1;return[_+T*k*(0,Kr.v)(T*$,n/d),A+O*k/d*(0,Kr.w)(T*$,n/d)]},[0,0]);return g.map(({mu:_,sigma:A})=>{const w=A*A;return{mu:_+w/p*I,sigma:A*Math.sqrt(Math.max(1-w/p*W,n))}})})};var zk=Xk;me.default=zk;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"bradleyTerryFull",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"bradleyTerryPart",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"plackettLuce",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"thurstoneMostellerFull",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"thurstoneMostellerPart",{enumerable:!0,get:function(){return u.default}});var r=i(_e),e=i(he),n=i(de),a=i(ye),u=i(me);function i(c){return c&&c.__esModule?c:{default:c}}})(Va);Object.defineProperty(Zr,"__esModule",{value:!0});Zr.default=void 0;var qe=jr,fn=Vk(Ua),Uk=Va;function Vk(t){return t&&t.__esModule?t:{default:t}}const Kk=(t,r={})=>{var v;const e=r.model??Uk.plackettLuce;let n=t;if(r.tau){const f=r.tau*r.tau;n=t.map(p=>p.map(g=>({...g,sigma:Math.sqrt(g.sigma*g.sigma+f)})))}const a=r.rank??((v=r.score)==null?void 0:v.map(f=>-f))??(0,qe.range)(1,t.length+1),[u,i]=(0,fn.default)(a,n),c=e(u,{...r,rank:(0,qe.sortBy)(qe.identity,a)});let[o]=(0,fn.default)(i,c);return r.tau&&r.preventSigmaIncrease&&(o=o.map((f,p)=>f.map((g,S)=>({...g,sigma:Math.min(g.sigma,t[p][S].sigma)})))),o};var Qk=Kk;Zr.default=Qk;var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.default=void 0;var Gk=Jk(q);function Jk(t){return t&&t.__esModule?t:{default:t}}const Hk=(t,r={})=>{const{sigma:e,mu:n}=t,{Z:a}=(0,Gk.default)(r);return n-a*e};var Zk=Hk;$e.default=Zk;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.default=void 0;var Yk=tS(q),pn=eS(B),rS=L;function tu(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,e=new WeakMap;return(tu=function(n){return n?e:r})(t)}function eS(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var e=tu(r);if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(u!=="default"&&Object.prototype.hasOwnProperty.call(t,u)){var i=a?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}function tS(t){return t&&t.__esModule?t:{default:t}}const nS=(t,r={})=>{const{teamRating:e}=(0,pn.default)(r),{BETASQ:n}=(0,Yk.default)(r),a=e(t),u=t.length,i=u*(u-1)/2;return a.map(([c,o],v)=>a.filter((f,p)=>v!==p).map(([f,p])=>(0,rS.phiMajor)((c-f)/Math.sqrt(u*n+o**2+p**2))).reduce(pn.sum,0)/i)};var aS=nS;ge.default=aS;var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.default=void 0;var uS=jr,iS=cS(q),_n=sS(B),Ie=L;function nu(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,e=new WeakMap;return(nu=function(n){return n?e:r})(t)}function sS(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var e=nu(r);if(e&&e.has(t))return e.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if(u!=="default"&&Object.prototype.hasOwnProperty.call(t,u)){var i=a?Object.getOwnPropertyDescriptor(t,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=t[u]}return n.default=t,e&&e.set(t,n),n}function cS(t){return t&&t.__esModule?t:{default:t}}const oS=(t,r={})=>{const{teamRating:e}=(0,_n.default)(r),{BETASQ:n,BETA:a}=(0,iS.default)(r),u=t.length;if(u===0)return;if(u===1)return 1;const i=u*(u-1)/(u>2?1:2),c=e(t),o=Math.sqrt((0,uS.flatten)(t).length)*a*(0,Ie.phiMajorInverse)((1+1/u)/2);return Math.abs(c.map(([v,f],p)=>c.filter((g,S)=>p!==S).map(([g,S])=>{const I=Math.sqrt(u*n+f**2+S**2);return(0,Ie.phiMajor)((o-v+g)/I)-(0,Ie.phiMajor)((v-g-o)/I)})).flat().reduce(_n.sum,0))/i};var vS=oS;xe.default=vS;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ordinal",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"predictDraw",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"predictWin",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"rate",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"rating",{enumerable:!0,get:function(){return r.default}});var r=i(Hr),e=i(Zr),n=i($e),a=i(ge),u=i(xe);function i(c){return c&&c.__esModule?c:{default:c}}})(or);function hn(t,r,e){const n=t.slice();return n[13]=r[e],n[15]=e,n}function dn(t,r,e){const n=t.slice();return n[16]=r[e][0],n[17]=r[e][1],n}function lS(t){let r,e="Merchants";return{c(){r=D("h1"),r.textContent=e,this.h()},l(n){r=N(n,"H1",{class:!0,"data-svelte-h":!0}),Qr(r)!=="svelte-1twrlt1"&&(r.textContent=e),this.h()},h(){C(r,"class","svelte-6b93ob")},m(n,a){z(n,r,a)},p:dr,d(n){n&&P(r)}}}function yn(t){let r,e,n=t[17]+"",a,u,i;function c(){return t[7](t[16])}return{c(){r=D("div"),e=D("a"),a=Q(n),this.h()},l(o){r=N(o,"DIV",{class:!0});var v=X(r);e=N(v,"A",{href:!0,class:!0});var f=X(e);a=G(f,n),f.forEach(P),v.forEach(P),this.h()},h(){C(e,"href","."),C(e,"class","svelte-6b93ob"),C(r,"class","opt svelte-6b93ob")},m(o,v){z(o,r,v),M(r,e),M(e,a),u||(i=iu(e,"click",su(c)),u=!0)},p(o,v){t=o},d(o){o&&P(r),u=!1,i()}}}function fS(t){let r,e,n,a;const u=[dS,hS],i=[];function c(o,v){return o[1].length?0:1}return e=c(t),n=i[e]=u[e](t),{c(){r=D("div"),n.c(),this.h()},l(o){r=N(o,"DIV",{class:!0});var v=X(r);n.l(v),v.forEach(P),this.h()},h(){C(r,"class","players-list")},m(o,v){z(o,r,v),i[e].m(r,null),a=!0},p(o,v){let f=e;e=c(o),e===f?i[e].p(o,v):(De(),nr(i[f],1,1,()=>{i[f]=null}),Ne(),n=i[e],n?n.p(o,v):(n=i[e]=u[e](o),n.c()),tr(n,1),n.m(r,null))},i(o){a||(tr(n),a=!0)},o(o){nr(n),a=!1},d(o){o&&P(r),i[e].d()}}}function pS(t){let r,e,n,a=ft(t[2])+"",u,i;return e=new xn({props:{failed:!0}}),{c(){r=D("div"),Pr(e.$$.fragment),n=rr(),u=Q(a),this.h()},l(c){r=N(c,"DIV",{class:!0});var o=X(r);Wr(e.$$.fragment,o),n=er(o),u=G(o,a),o.forEach(P),this.h()},h(){C(r,"class","error")},m(c,o){z(c,r,o),Mr(e,r,null),M(r,n),M(r,u),i=!0},p(c,o){(!i||o&4)&&a!==(a=ft(c[2])+"")&&kr(u,a)},i(c){i||(tr(e.$$.fragment,c),i=!0)},o(c){nr(e.$$.fragment,c),i=!1},d(c){c&&P(r),qr(e)}}}function _S(t){let r,e,n;return e=new xn({}),{c(){r=D("div"),Pr(e.$$.fragment),this.h()},l(a){r=N(a,"DIV",{class:!0});var u=X(r);Wr(e.$$.fragment,u),u.forEach(P),this.h()},h(){C(r,"class","spinner")},m(a,u){z(a,r,u),Mr(e,r,null),n=!0},p:dr,i(a){n||(tr(e.$$.fragment,a),n=!0)},o(a){nr(e.$$.fragment,a),n=!1},d(a){a&&P(r),qr(e)}}}function hS(t){let r,e="No registered players.";return{c(){r=D("div"),r.textContent=e},l(n){r=N(n,"DIV",{"data-svelte-h":!0}),Qr(r)!=="svelte-1a0hpm9"&&(r.textContent=e)},m(n,a){z(n,r,a)},p:dr,i:dr,o:dr,d(n){n&&P(r)}}}function dS(t){let r,e=[],n=new Map,a,u=Gr(t[1]);const i=c=>c[13].address;for(let c=0;c<u.length;c+=1){let o=hn(t,u,c),v=i(o);n.set(v,e[c]=$n(v,o))}return{c(){r=D("ol");for(let c=0;c<e.length;c+=1)e[c].c();this.h()},l(c){r=N(c,"OL",{class:!0});var o=X(r);for(let v=0;v<e.length;v+=1)e[v].l(o);o.forEach(P),this.h()},h(){C(r,"class","svelte-6b93ob")},m(c,o){z(c,r,o);for(let v=0;v<e.length;v+=1)e[v]&&e[v].m(r,null);a=!0},p(c,o){o&2&&(u=Gr(c[1]),De(),e=vu(e,o,i,1,c,u,n,r,lu,$n,null,hn),Ne())},i(c){if(!a){for(let o=0;o<u.length;o+=1)tr(e[o]);a=!0}},o(c){for(let o=0;o<e.length;o+=1)nr(e[o]);a=!1},d(c){c&&P(r);for(let o=0;o<e.length;o+=1)e[o].d()}}}function yS(t){let r;return{c(){r=Q("⏱️")},l(e){r=G(e,"⏱️")},m(e,n){z(e,r,n)},p:dr,d(e){e&&P(r)}}}function mS(t){let r,e,n=Math.ceil(t[13].skill*100)+"",a,u,i,c=t[13].skillDelta&&mn(t);return{c(){r=Q("💪 "),e=D("span"),a=Q(n),u=rr(),c&&c.c(),i=lt(),this.h()},l(o){r=G(o,"💪 "),e=N(o,"SPAN",{class:!0});var v=X(e);a=G(v,n),v.forEach(P),u=er(o),c&&c.l(o),i=lt(),this.h()},h(){C(e,"class","skill")},m(o,v){z(o,r,v),z(o,e,v),M(e,a),z(o,u,v),c&&c.m(o,v),z(o,i,v)},p(o,v){v&2&&n!==(n=Math.ceil(o[13].skill*100)+"")&&kr(a,n),o[13].skillDelta?c?c.p(o,v):(c=mn(o),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(o){o&&(P(r),P(e),P(u),P(i)),c&&c.d(o)}}}function mn(t){let r,e,n,a=Math.ceil(Math.abs(t[13].skillDelta)*100)+"",u,i;return{c(){r=D("span"),e=Q("("),n=D("span"),u=Q(a),i=Q(")"),this.h()},l(c){r=N(c,"SPAN",{class:!0});var o=X(r);e=G(o,"("),n=N(o,"SPAN",{class:!0});var v=X(n);u=G(v,a),v.forEach(P),i=G(o,")"),o.forEach(P),this.h()},h(){C(n,"class","svelte-6b93ob"),Xr(n,"increased",t[13].skillDelta>0),Xr(n,"decreased",t[13].skillDelta<0),C(r,"class","delta svelte-6b93ob")},m(c,o){z(c,r,o),M(r,e),M(r,n),M(n,u),M(r,i)},p(c,o){o&2&&a!==(a=Math.ceil(Math.abs(c[13].skillDelta)*100)+"")&&kr(u,a),o&2&&Xr(n,"increased",c[13].skillDelta>0),o&2&&Xr(n,"decreased",c[13].skillDelta<0)},d(c){c&&P(r)}}}function $n(t,r){let e,n,a=r[15]+1+"",u,i,c,o,v,f,p,g,S,I,W=r[13].created.toLocaleDateString()+"",_,A,w;v=new mu({props:{name:r[13].name}});function b(d,$){if(d[13].skill!==null)return mS;if(d[13].submitted)return yS}let y=b(r),h=y&&y(r);return{key:t,first:null,c(){e=D("li"),n=D("div"),u=Q(a),i=Q("."),c=rr(),o=D("div"),Pr(v.$$.fragment),f=rr(),p=D("div"),h&&h.c(),g=rr(),S=D("div"),I=Q("Joined "),_=Q(W),A=rr(),this.h()},l(d){e=N(d,"LI",{class:!0});var $=X(e);n=N($,"DIV",{class:!0});var k=X(n);u=G(k,a),i=G(k,"."),k.forEach(P),c=er($),o=N($,"DIV",{class:!0});var O=X(o);Wr(v.$$.fragment,O),O.forEach(P),f=er($),p=N($,"DIV",{class:!0});var T=X(p);h&&h.l(T),T.forEach(P),g=er($),S=N($,"DIV",{class:!0});var K=X(S);I=G(K,"Joined "),_=G(K,W),K.forEach(P),A=er($),$.forEach(P),this.h()},h(){C(n,"class","counter svelte-6b93ob"),C(o,"class","name svelte-6b93ob"),C(p,"class","submitted svelte-6b93ob"),C(S,"class","joined svelte-6b93ob"),C(e,"class","svelte-6b93ob"),this.first=e},m(d,$){z(d,e,$),M(e,n),M(n,u),M(n,i),M(e,c),M(e,o),Mr(v,o,null),M(e,f),M(e,p),h&&h.m(p,null),M(e,g),M(e,S),M(S,I),M(S,_),M(e,A),w=!0},p(d,$){r=d,(!w||$&2)&&a!==(a=r[15]+1+"")&&kr(u,a);const k={};$&2&&(k.name=r[13].name),v.$set(k),y===(y=b(r))&&h?h.p(r,$):(h&&h.d(1),h=y&&y(r),h&&(h.c(),h.m(p,null))),(!w||$&2)&&W!==(W=r[13].created.toLocaleDateString()+"")&&kr(_,W)},i(d){w||(tr(v.$$.fragment,d),w=!0)},o(d){nr(v.$$.fragment,d),w=!1},d(d){d&&P(e),qr(v),h&&h.d()}}}function $S(t){let r,e,n,a,u,i="Sort by",c,o,v,f,p,g,S='(*) &quot;Skill&quot; is a <a href="https://openskill.me/en/stable/" target="_blank" class="svelte-6b93ob">metric</a> based on final ranking from the last 12 tournaments this season, normalized between 0-100.',I;r=new pu({props:{$$slots:{default:[lS]},$$scope:{ctx:t}}});let W=Gr([[t[4].Name,"Name"],[t[4].Joined,"Date joined"],[t[4].Skill,"Skill*"]]),_=[];for(let y=0;y<3;y+=1)_[y]=yn(dn(t,W,y));const A=[_S,pS,fS],w=[];function b(y,h){return y[2]instanceof Promise?0:y[2]instanceof Error?1:2}return v=b(t),f=w[v]=A[v](t),{c(){Pr(r.$$.fragment),e=rr(),n=D("section"),a=D("div"),u=D("div"),u.textContent=i,c=rr();for(let y=0;y<3;y+=1)_[y].c();o=rr(),f.c(),p=rr(),g=D("div"),g.innerHTML=S,this.h()},l(y){Wr(r.$$.fragment,y),e=er(y),n=N(y,"SECTION",{class:!0});var h=X(n);a=N(h,"DIV",{class:!0});var d=X(a);u=N(d,"DIV",{"data-svelte-h":!0}),Qr(u)!=="svelte-17vsuap"&&(u.textContent=i),c=er(d);for(let $=0;$<3;$+=1)_[$].l(d);d.forEach(P),o=er(h),f.l(h),p=er(h),g=N(h,"DIV",{class:!0,"data-svelte-h":!0}),Qr(g)!=="svelte-10uk1by"&&(g.innerHTML=S),h.forEach(P),this.h()},h(){C(a,"class","sort-options svelte-6b93ob"),C(g,"class","disclaimer svelte-6b93ob"),C(n,"class","svelte-6b93ob")},m(y,h){Mr(r,y,h),z(y,e,h),z(y,n,h),M(n,a),M(a,u),M(a,c);for(let d=0;d<3;d+=1)_[d]&&_[d].m(a,null);M(n,o),w[v].m(n,null),M(n,p),M(n,g),I=!0},p(y,h){const d={};if(h&1048576&&(d.$$scope={dirty:h,ctx:y}),r.$set(d),h&17){W=Gr([[y[4].Name,"Name"],[y[4].Joined,"Date joined"],[y[4].Skill,"Skill*"]]);let k;for(k=0;k<3;k+=1){const O=dn(y,W,k);_[k]?_[k].p(O,h):(_[k]=yn(O),_[k].c(),_[k].m(a,null))}for(;k<3;k+=1)_[k].d(1)}let $=v;v=b(y),v===$?w[v].p(y,h):(De(),nr(w[$],1,1,()=>{w[$]=null}),Ne(),f=w[v],f?f.p(y,h):(f=w[v]=A[v](y),f.c()),tr(f,1),f.m(n,p))},i(y){I||(tr(r.$$.fragment,y),tr(f),I=!0)},o(y){nr(r.$$.fragment,y),nr(f),I=!1},d(y){y&&(P(e),P(n)),qr(r,y),uu(_,y),w[v].d()}}}function gS(t){let r,e;return r=new fu({props:{title:"Merchant Dashboard",$$slots:{default:[$S]},$$scope:{ctx:t}}}),{c(){Pr(r.$$.fragment)},l(n){Wr(r.$$.fragment,n)},m(n,a){Mr(r,n,a),e=!0},p(n,[a]){const u={};a&1048583&&(u.$$scope={dirty:a,ctx:n}),r.$set(u)},i(n){e||(tr(r.$$.fragment,n),e=!0)},o(n){nr(r.$$.fragment,n),e=!1},d(n){qr(r,n)}}}function gn(t){if(t.length===0)return[];const[r,e]=t.reduce(([n,a],u)=>[Math.min(n,u),Math.max(a,u)],[t[0],t[0]]);return t.map(n=>(n-r)/(e-r))}function xS(t,r,e){let n,a;vt(t,_u,_=>e(5,n=_));const{publicClient:u,seasons:i}=du();vt(t,i,_=>e(6,a=_));let c;const o=yu(_=>e(2,c=_));var v=(_=>(_.Name="name",_.Joined="joined",_.Skill="skill",_))(v||{});let{sortBy:f=void 0}=r,p=[];async function g(){return o((async()=>{const[_,A]=await Promise.all([pt(`${_t}/players`).catch(()=>{throw new Error("Failed to fetch players.")}),pt(`${_t}/results?season=${a.length==0?0:a.length-1}`).catch(()=>{throw new Error("Failed to fetch players.")})]),[w,b]=S(_.map(h=>h.address),A.map(h=>({time:new Date(h.time).getTime(),rankings:h.rankings.sort((d,$)=>$.score-d.score)})).sort((h,d)=>h.time-d.time).slice(-12).map(h=>h.rankings)),y=_.map((h,d)=>({name:h.name,address:h.address,created:new Date(h.created),submitted:!1,skill:w[d],skillDelta:b[d]}));if(a.length){const h=await $u({client:u,calls:y.map(d=>({fn:"playerCodeHash",args:[a.length-1,d.address]}))});for(let d=0;d<h.length;++d)y[d].submitted=h[d]!==gu}e(1,p=y),e(0,f=n.url.searchParams.get("sortBy")??"skill")})())}function S(_,A){const w=Object.assign({},..._.map(O=>({[O]:or.rating()})));let b={};const y={};for(const O of A){Object.assign(y,...O.map(K=>({[K.address]:!0})));const T=O.map(K=>[w[K.address]??or.rating()]);Object.assign(w,...or.rate(T).filter((K,xr)=>!!w[O[xr].address]).map((K,xr)=>({[O[xr].address]:K[0]}))),b=Object.assign({},...O.map((K,xr)=>({[K.address]:T[xr][0]})))}const h=_.map(O=>or.ordinal(w[O])),d=_.map(O=>b[O]?or.ordinal(b[O]):or.ordinal(w[O])),$=gn(h),k=gn(d);return[$.map((O,T)=>y[_[T]]?O:null),k.map((O,T)=>y[_[T]]?$[T]-O:null)]}function I(_,A){return A==="joined"?_.sort((w,b)=>w.created.getTime()-b.created.getTime()):f==="skill"?_.sort((w,b)=>(b.skill??-1)-(w.skill??-1)):_.sort((w,b)=>w.name.localeCompare(b.name)),_}const W=_=>e(0,f=_);return t.$$set=_=>{"sortBy"in _&&e(0,f=_.sortBy)},t.$$.update=()=>{if(t.$$.dirty&33){const _=n.url.searchParams.get("sortBy");f&&_!==f&&(n.url.searchParams.set("sortBy",f),hu(`?${n.url.searchParams.toString()}`,history.state))}t.$$.dirty&64&&a.length&&g(),t.$$.dirty&3&&f&&e(1,p=I(p,f))},[f,p,c,i,v,n,a,W]}class bS extends cu{constructor(r){super(),ou(this,r,xS,gS,au,{sortBy:0})}}export{bS as component};
